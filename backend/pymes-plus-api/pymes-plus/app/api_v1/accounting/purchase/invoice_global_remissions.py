# -*- coding: utf-8 -*-
#########################################################
# All credits by SoftPymes Plus
#########################################################
__author__ = "SoftPymes"
__credits__ = ["JAPeTo"]

from ... import api
from ....models import DocumentHeader, InvoiceGlobalRemission
from flask import request, jsonify, abort
from ....exceptions import ValidationError
from ....decorators import authorize

@api.route('/invoice_gremission/search', methods=['GET'])
@authorize('invoiceGlobalRemission', 'r')
def get_invoice_gremission_by_search():

    """
        @api {get}  /invoice_gremission/search Search Globals Remissions
        @apiGroup Purchase.Invoice Global Remission
        @apiDescription Return global remissions according  search pattern
        @apiParam {String} short_word identifier by document type
        @apiParam {String} document_number consecutive  associate to document
        @apiParam {Number} branch_id branch company identifier
        @apiSuccessExample {json} Success
          HTTP/1.1 200 OK
            {
              "data": [{},...
                    {
                      "sourceDocumentHeaderId": null,
                      "documentNumber": "0000000664",
                      "annuled": null,
                      "controlPrefix": "TXT",
                      "paymentTermId": 2,
                      "documentDate": "2017-06-27T07:31:44.000Z",
                      "controlNumber": "0121000",
                      "sourceDocumentOrigin": "RP",
                      "termDays": "3",
                      "dateTo": "2017-06-30T22:31:18.772Z",
                      "costCenter": null,
                      "costCenterId": 1,
                      "divisionId": 1,
                      "sectionId": 1,
                      "exchangeRate": 1,
                      "dependencyId": null,
                      "shortWord": "FP",
                      "sourceShortWord": "FRP",
                      "currencyId": 4,
                      "documentDetails": [
                        {
                          "accountNumber": null,
                          "amount": 0,
                          "asset": null,
                          "assetId": null,
                          "authorizationNumber": null,
                          "availableStock": 0,
                          "balance": 999,
                          "bankAccountId": null,
                          "bankCode": null,
                          "bankName": null,
                          "baseValue": 9790200,
                          "businessAgentId": null,
                          "cashRegisterId": null,
                          "checkNumber": null,
                          "colorId": null,
                          "comments": null,
                          "consumptionTaxBase": 9790200,
                          "consumptionTaxPUC": null,
                          "consumptionTaxPUCId": null,
                          "consumptionTaxPercent": 0,
                          "consumptionTaxValue": 0,
                          "conversionFactor": 1,
                          "cost": 0,
                          "costCenterId": 1,
                          "createdBy": "Administrador del Sistema",
                          "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
                          "crossDocumentHeaderId": null,
                          "customerId": null,
                          "dependencyId": null,
                          "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
                          "detailDocument": null,
                          "detailDocumentTypeId": 124,
                          "detailPrefix": null,
                          "detailWarehouse": {
                            "code": "001",
                            "name": "MATERIA PRIMA",
                            "typeWarehouse": "G",
                            "warehouseId": 2,
                            "codeComplete": "Código 001"
                          },
                          "detailWarehouseId": 2,
                          "disccount": 2,
                          "divisionId": 1,
                          "documentDetailId": 13459,
                          "documentHeaderId": 6047,
                          "dueDate": null,
                          "employeeId": null,
                          "finalDate": null,
                          "financialEntityId": null,
                          "globalTax": 0,
                          "icaPercent": 0,
                          "importConceptId": null,
                          "initialDate": null,
                          "interest": 0,
                          "isDeleted": 0,
                          "item": {
                            "addConsumptionToCost": false,
                            "addConsumptionToPurchase": false,
                            "addIVAtoCost": false,
                            "averageCost": 0,
                            "barCode": null,
                            "brandId": null,
                            "code": "NORMAL",
                            "color": false,
                            "companyCost": 10000,
                            "companyId": 1,
                            "consumptionPUC": null,
                            "consumptionPUCId": null,
                            "consumptionPercentage": 0,
                            "conversionFactor": 2,
                            "conversionFactor2": 1000,
                            "costPUC": {
                              "percentage": 0,
                              "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
                              "pucId": 10252
                            },
                            "costPUCId": 10252,
                            "createdBy": "Administrador del Sistema",
                            "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
                            "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
                            "disccountToUnitValue": false,
                            "discountPercentage": 0,
                            "imageId": null,
                            "incomingPUC": {
                              "percentage": 0,
                              "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
                              "pucId": 2328
                            },
                            "incomingPUCId": 2328,
                            "inventoryGroup": null,
                            "inventoryGroupId": null,
                            "inventoryPUC": {
                              "percentage": 0,
                              "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
                              "pucId": 6651
                            },
                            "inventoryPUCId": 6651,
                            "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
                            "invimaRegister": "IVM3265-85",
                            "isDeleted": false,
                            "itemId": 279,
                            "ivaPurchasePUC": {
                              "percentage": 16,
                              "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                              "pucId": 7746
                            },
                            "ivaPurchasePUCId": 7746,
                            "ivaSalePUC": {
                              "percentage": 16,
                              "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
                              "pucId": 7721
                            },
                            "ivaSalePUCId": 7721,
                            "lastCost": 0,
                            "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
                            "lot": false,
                            "measurementUnit": {
                              "code": "KGM",
                              "measurementUnitId": 13,
                              "name": "KILOGRAMOS                    "
                            },
                            "measurementUnit2": {
                              "code": "LBS",
                              "measurementUnitId": 14,
                              "name": "LIBRAS                        "
                            },
                            "measurementUnit2Id": 14,
                            "measurementUnit3": {
                              "code": "GRM",
                              "measurementUnitId": 2,
                              "name": "GRAMOS                        "
                            },
                            "measurementUnit3Id": 2,
                            "measurementUnitId": 13,
                            "minimumStock": 0,
                            "name": "NORMAL",
                            "namePOS": "NORMAL",
                            "orderQuantity": 0,
                            "packagePrice": 0,
                            "percentageICA": 0,
                            "percentagePurchaseIVA": 16,
                            "percentageSaleIVA": 16,
                            "plu": null,
                            "priceList1": 10000,
                            "priceList10": 0,
                            "priceList2": 15000,
                            "priceList3": 0,
                            "priceList4": 0,
                            "priceList5": 0,
                            "priceList6": 0,
                            "priceList7": 0,
                            "priceList8": 0,
                            "priceList9": 0,
                            "priceListA1": 5000,
                            "priceListA10": 0,
                            "priceListA2": 7500,
                            "priceListA3": 0,
                            "priceListA4": 0,
                            "priceListA5": 0,
                            "priceListA6": 0,
                            "priceListA7": 0,
                            "priceListA8": 0,
                            "priceListA9": 0,
                            "priceListB1": 100,
                            "priceListB10": 0,
                            "priceListB2": 150,
                            "priceListB3": 0,
                            "priceListB4": 0,
                            "priceListB5": 0,
                            "priceListB6": 0,
                            "priceListB7": 0,
                            "priceListB8": 0,
                            "priceListB9": 0,
                            "providerId": null,
                            "purchaseIVA": {
                              "code": "G",
                              "ivaId": 2,
                              "name": "GRAVADO"
                            },
                            "purchaseIVAId": 2,
                            "reference": null,
                            "saleIVA": {
                              "code": "G",
                              "ivaId": 2,
                              "name": "GRAVADO"
                            },
                            "saleIVAId": 2,
                            "serial": false,
                            "size": false,
                            "state": "A",
                            "subInventoryGroup1Id": null,
                            "subInventoryGroup2": null,
                            "subInventoryGroup2Id": null,
                            "subInventoryGroup3": null,
                            "subInventoryGroup3Id": null,
                            "subInventoryGroups1": null,
                            "typeItem": "A",
                            "updateBy": "Administrador del Sistema",
                            "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
                            "weight": 0,
                            "withholdingICA": false,
                            "withholdingPurchasePercentage": 3.5,
                            "withholdingSalePercentage": 3.5,
                            "withholdingTaxPurchasePUC": {
                              "percentage": 3.5,
                              "pucAccount": "236540005 COMPRAS 3.5%",
                              "pucId": 7620
                            },
                            "withholdingTaxPurchasePUCId": 7620,
                            "withholdingTaxSalePUC": {
                              "percentage": 3.5,
                              "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
                              "pucId": 6459
                            },
                            "withholdingTaxSalePUCId": 6459
                          },
                          "itemId": 279,
                          "iva": 16,
                          "ivaCustomer": null,
                          "ivaPUC": {
                            "percentage": 16,
                            "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                            "pucId": 7746
                          },
                          "ivaPUCId": 7746,
                          "kitAssetId": null,
                          "kitItemId": null,
                          "kitLaborId": null,
                          "listSerials": [],
                          "lot": null,
                          "mainUnitValue": 0,
                          "measurementUnitId": 13,
                          "otherThirdId": null,
                          "overCost": 0,
                          "partnerId": null,
                          "payrollConceptId": null,
                          "payrollEntityId": null,
                          "percentCost": 0,
                          "physicalLocation": null,
                          "pieceId": null,
                          "provider": null,
                          "providerId": null,
                          "puc": null,
                          "pucId": null,
                          "quantity": 999,
                          "quantityRefund": 1,
                          "quoteNumber": null,
                          "reteICA": null,
                          "reteICAPercent": 0,
                          "search": null,
                          "sectionId": 1,
                          "selected": null,
                          "sizeId": null,
                          "sourceDocumentDetail": {
                            "accountNumber": null,
                            "amount": 0,
                            "asset": null,
                            "assetId": null,
                            "authorizationNumber": null,
                            "availableStock": 0,
                            "balance": 0,
                            "bankAccountId": null,
                            "bankCode": null,
                            "bankName": null,
                            "baseValue": 9604000,
                            "businessAgentId": null,
                            "cashRegisterId": null,
                            "checkNumber": null,
                            "colorId": null,
                            "comments": null,
                            "consumptionTaxBase": 9604000,
                            "consumptionTaxPUC": null,
                            "consumptionTaxPUCId": null,
                            "consumptionTaxPercent": 0,
                            "consumptionTaxValue": 0,
                            "conversionFactor": 1,
                            "cost": 0,
                            "costCenterId": 1,
                            "createdBy": "Administrador del Sistema",
                            "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
                            "crossDocumentHeaderId": null,
                            "customerId": null,
                            "dependencyId": null,
                            "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
                            "detailDocument": null,
                            "detailDocumentTypeId": 124,
                            "detailPrefix": null,
                            "detailWarehouse": {
                              "code": "001",
                              "name": "MATERIA PRIMA",
                              "typeWarehouse": "G",
                              "warehouseId": 2
                            },
                            "detailWarehouseId": 2,
                            "disccount": 2,
                            "divisionId": 1,
                            "documentDetailId": 13459,
                            "documentHeaderId": 6047,
                            "dueDate": null,
                            "employeeId": null,
                            "finalDate": null,
                            "financialEntityId": null,
                            "globalTax": 0,
                            "icaPercent": 0,
                            "importConceptId": null,
                            "initialDate": null,
                            "interest": 0,
                            "isDeleted": 0,
                            "item": {
                              "addConsumptionToCost": false,
                              "addConsumptionToPurchase": false,
                              "addIVAtoCost": false,
                              "averageCost": 0,
                              "barCode": null,
                              "brandId": null,
                              "code": "NORMAL",
                              "color": false,
                              "companyCost": 10000,
                              "companyId": 1,
                              "consumptionPUC": null,
                              "consumptionPUCId": null,
                              "consumptionPercentage": 0,
                              "conversionFactor": 2,
                              "conversionFactor2": 1000,
                              "costPUC": {
                                "percentage": 0,
                                "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
                                "pucId": 10252
                              },
                              "costPUCId": 10252,
                              "createdBy": "Administrador del Sistema",
                              "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
                              "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
                              "disccountToUnitValue": false,
                              "discountPercentage": 0,
                              "imageId": null,
                              "incomingPUC": {
                                "percentage": 0,
                                "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
                                "pucId": 2328
                              },
                              "incomingPUCId": 2328,
                              "inventoryGroup": null,
                              "inventoryGroupId": null,
                              "inventoryPUC": {
                                "percentage": 0,
                                "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
                                "pucId": 6651
                              },
                              "inventoryPUCId": 6651,
                              "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
                              "invimaRegister": "IVM3265-85",
                              "isDeleted": false,
                              "itemId": 279,
                              "ivaPurchasePUC": {
                                "percentage": 16,
                                "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                                "pucId": 7746
                              },
                              "ivaPurchasePUCId": 7746,
                              "ivaSalePUC": {
                                "percentage": 16,
                                "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
                                "pucId": 7721
                              },
                              "ivaSalePUCId": 7721,
                              "lastCost": 0,
                              "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
                              "lot": false,
                              "measurementUnit": {
                                "code": "KGM",
                                "measurementUnitId": 13,
                                "name": "KILOGRAMOS                    "
                              },
                              "measurementUnit2": {
                                "code": "LBS",
                                "measurementUnitId": 14,
                                "name": "LIBRAS                        "
                              },
                              "measurementUnit2Id": 14,
                              "measurementUnit3": {
                                "code": "GRM",
                                "measurementUnitId": 2,
                                "name": "GRAMOS                        "
                              },
                              "measurementUnit3Id": 2,
                              "measurementUnitId": 13,
                              "minimumStock": 0,
                              "name": "NORMAL",
                              "namePOS": "NORMAL",
                              "orderQuantity": 0,
                              "packagePrice": 0,
                              "percentageICA": 0,
                              "percentagePurchaseIVA": 16,
                              "percentageSaleIVA": 16,
                              "plu": null,
                              "priceList1": 10000,
                              "priceList10": 0,
                              "priceList2": 15000,
                              "priceList3": 0,
                              "priceList4": 0,
                              "priceList5": 0,
                              "priceList6": 0,
                              "priceList7": 0,
                              "priceList8": 0,
                              "priceList9": 0,
                              "priceListA1": 5000,
                              "priceListA10": 0,
                              "priceListA2": 7500,
                              "priceListA3": 0,
                              "priceListA4": 0,
                              "priceListA5": 0,
                              "priceListA6": 0,
                              "priceListA7": 0,
                              "priceListA8": 0,
                              "priceListA9": 0,
                              "priceListB1": 100,
                              "priceListB10": 0,
                              "priceListB2": 150,
                              "priceListB3": 0,
                              "priceListB4": 0,
                              "priceListB5": 0,
                              "priceListB6": 0,
                              "priceListB7": 0,
                              "priceListB8": 0,
                              "priceListB9": 0,
                              "providerId": null,
                              "purchaseIVA": {
                                "code": "G",
                                "ivaId": 2,
                                "name": "GRAVADO"
                              },
                              "purchaseIVAId": 2,
                              "reference": null,
                              "saleIVA": {
                                "code": "G",
                                "ivaId": 2,
                                "name": "GRAVADO"
                              },
                              "saleIVAId": 2,
                              "serial": false,
                              "size": false,
                              "state": "A",
                              "subInventoryGroup1Id": null,
                              "subInventoryGroup2": null,
                              "subInventoryGroup2Id": null,
                              "subInventoryGroup3": null,
                              "subInventoryGroup3Id": null,
                              "subInventoryGroups1": null,
                              "typeItem": "A",
                              "updateBy": "Administrador del Sistema",
                              "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
                              "weight": 0,
                              "withholdingICA": false,
                              "withholdingPurchasePercentage": 3.5,
                              "withholdingSalePercentage": 3.5,
                              "withholdingTaxPurchasePUC": {
                                "percentage": 3.5,
                                "pucAccount": "236540005 COMPRAS 3.5%",
                                "pucId": 7620
                              },
                              "withholdingTaxPurchasePUCId": 7620,
                              "withholdingTaxSalePUC": {
                                "percentage": 3.5,
                                "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
                                "pucId": 6459
                              },
                              "withholdingTaxSalePUCId": 6459
                            },
                            "itemId": 279,
                            "iva": 16,
                            "ivaCustomer": null,
                            "ivaPUC": {
                              "percentage": 16,
                              "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                              "pucId": 7746
                            },
                            "ivaPUCId": 7746,
                            "kitAssetId": null,
                            "kitItemId": null,
                            "kitLaborId": null,
                            "listSerials": [],
                            "lot": null,
                            "mainUnitValue": 0,
                            "measurementUnitId": 13,
                            "otherThirdId": null,
                            "overCost": 0,
                            "partnerId": null,
                            "payrollConceptId": null,
                            "payrollEntityId": null,
                            "percentCost": 0,
                            "physicalLocation": null,
                            "pieceId": null,
                            "provider": null,
                            "providerId": null,
                            "puc": null,
                            "pucId": null,
                            "quantity": 1000,
                            "quantityRefund": 1,
                            "quoteNumber": null,
                            "reteICA": null,
                            "reteICAPercent": 0,
                            "search": null,
                            "sectionId": 1,
                            "selected": null,
                            "sizeId": null,
                            "sourceDocumentDetail": {
                              "accountNumber": null,
                              "amount": 0,
                              "asset": null,
                              "assetId": null,
                              "authorizationNumber": null,
                              "availableStock": 0,
                              "balance": 0,
                              "bankAccountId": null,
                              "bankCode": null,
                              "bankName": null,
                              "baseValue": 9604000,
                              "businessAgentId": null,
                              "cashRegisterId": null,
                              "checkNumber": null,
                              "colorId": null,
                              "comments": null,
                              "consumptionTaxBase": 9604000,
                              "consumptionTaxPUC": null,
                              "consumptionTaxPUCId": null,
                              "consumptionTaxPercent": 0,
                              "consumptionTaxValue": 0,
                              "conversionFactor": 1,
                              "cost": 0,
                              "costCenterId": 1,
                              "createdBy": "Administrador del Sistema",
                              "creationDate": "Thu, 22 Jun 2017 11:42:45 GMT",
                              "crossDocumentHeaderId": null,
                              "customerId": null,
                              "dependencyId": null,
                              "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
                              "detailDocument": null,
                              "detailDocumentTypeId": 92,
                              "detailPrefix": null,
                              "detailWarehouse": {
                                "code": "001",
                                "name": "MATERIA PRIMA",
                                "typeWarehouse": "G",
                                "warehouseId": 2
                              },
                              "detailWarehouseId": 2,
                              "disccount": 2,
                              "divisionId": 1,
                              "documentDetailId": 13458,
                              "documentHeaderId": 6046,
                              "dueDate": null,
                              "employeeId": null,
                              "finalDate": null,
                              "financialEntityId": null,
                              "globalTax": 0,
                              "icaPercent": 0,
                              "importConceptId": null,
                              "initialDate": null,
                              "interest": 0,
                              "isDeleted": 0,
                              "item": {
                                "addConsumptionToCost": false,
                                "addConsumptionToPurchase": false,
                                "addIVAtoCost": false,
                                "averageCost": 0,
                                "barCode": null,
                                "brandId": null,
                                "code": "NORMAL",
                                "color": false,
                                "companyCost": 10000,
                                "companyId": 1,
                                "consumptionPUC": null,
                                "consumptionPUCId": null,
                                "consumptionPercentage": 0,
                                "conversionFactor": 2,
                                "conversionFactor2": 1000,
                                "costPUC": {
                                  "percentage": 0,
                                  "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
                                  "pucId": 10252
                                },
                                "costPUCId": 10252,
                                "createdBy": "Administrador del Sistema",
                                "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
                                "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
                                "disccountToUnitValue": false,
                                "discountPercentage": 0,
                                "imageId": null,
                                "incomingPUC": {
                                  "percentage": 0,
                                  "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
                                  "pucId": 2328
                                },
                                "incomingPUCId": 2328,
                                "inventoryGroup": null,
                                "inventoryGroupId": null,
                                "inventoryPUC": {
                                  "percentage": 0,
                                  "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
                                  "pucId": 6651
                                },
                                "inventoryPUCId": 6651,
                                "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
                                "invimaRegister": "IVM3265-85",
                                "isDeleted": false,
                                "itemId": 279,
                                "ivaPurchasePUC": {
                                  "percentage": 16,
                                  "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                                  "pucId": 7746
                                },
                                "ivaPurchasePUCId": 7746,
                                "ivaSalePUC": {
                                  "percentage": 16,
                                  "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
                                  "pucId": 7721
                                },
                                "ivaSalePUCId": 7721,
                                "lastCost": 0,
                                "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
                                "lot": false,
                                "measurementUnit": {
                                  "code": "KGM",
                                  "measurementUnitId": 13,
                                  "name": "KILOGRAMOS                    "
                                },
                                "measurementUnit2": {
                                  "code": "LBS",
                                  "measurementUnitId": 14,
                                  "name": "LIBRAS                        "
                                },
                                "measurementUnit2Id": 14,
                                "measurementUnit3": {
                                  "code": "GRM",
                                  "measurementUnitId": 2,
                                  "name": "GRAMOS                        "
                                },
                                "measurementUnit3Id": 2,
                                "measurementUnitId": 13,
                                "minimumStock": 0,
                                "name": "NORMAL",
                                "namePOS": "NORMAL",
                                "orderQuantity": 0,
                                "packagePrice": 0,
                                "percentageICA": 0,
                                "percentagePurchaseIVA": 16,
                                "percentageSaleIVA": 16,
                                "plu": null,
                                "priceList1": 10000,
                                "priceList10": 0,
                                "priceList2": 15000,
                                "priceList3": 0,
                                "priceList4": 0,
                                "priceList5": 0,
                                "priceList6": 0,
                                "priceList7": 0,
                                "priceList8": 0,
                                "priceList9": 0,
                                "priceListA1": 5000,
                                "priceListA10": 0,
                                "priceListA2": 7500,
                                "priceListA3": 0,
                                "priceListA4": 0,
                                "priceListA5": 0,
                                "priceListA6": 0,
                                "priceListA7": 0,
                                "priceListA8": 0,
                                "priceListA9": 0,
                                "priceListB1": 100,
                                "priceListB10": 0,
                                "priceListB2": 150,
                                "priceListB3": 0,
                                "priceListB4": 0,
                                "priceListB5": 0,
                                "priceListB6": 0,
                                "priceListB7": 0,
                                "priceListB8": 0,
                                "priceListB9": 0,
                                "providerId": null,
                                "purchaseIVA": {
                                  "code": "G",
                                  "ivaId": 2,
                                  "name": "GRAVADO"
                                },
                                "purchaseIVAId": 2,
                                "reference": null,
                                "saleIVA": {
                                  "code": "G",
                                  "ivaId": 2,
                                  "name": "GRAVADO"
                                },
                                "saleIVAId": 2,
                                "serial": false,
                                "size": false,
                                "state": "A",
                                "subInventoryGroup1Id": null,
                                "subInventoryGroup2": null,
                                "subInventoryGroup2Id": null,
                                "subInventoryGroup3": null,
                                "subInventoryGroup3Id": null,
                                "subInventoryGroups1": null,
                                "typeItem": "A",
                                "updateBy": "Administrador del Sistema",
                                "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
                                "weight": 0,
                                "withholdingICA": false,
                                "withholdingPurchasePercentage": 3.5,
                                "withholdingSalePercentage": 3.5,
                                "withholdingTaxPurchasePUC": {
                                  "percentage": 3.5,
                                  "pucAccount": "236540005 COMPRAS 3.5%",
                                  "pucId": 7620
                                },
                                "withholdingTaxPurchasePUCId": 7620,
                                "withholdingTaxSalePUC": {
                                  "percentage": 3.5,
                                  "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
                                  "pucId": 6459
                                },
                                "withholdingTaxSalePUCId": 6459
                              },
                              "itemId": 279,
                              "iva": 16,
                              "ivaCustomer": null,
                              "ivaPUC": {
                                "percentage": 16,
                                "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                                "pucId": 7746
                              },
                              "ivaPUCId": 7746,
                              "kitAssetId": null,
                              "kitItemId": null,
                              "kitLaborId": null,
                              "listSerials": [],
                              "lot": null,
                              "mainUnitValue": 0,
                              "measurementUnitId": 13,
                              "otherThirdId": null,
                              "overCost": 0,
                              "partnerId": null,
                              "payrollConceptId": null,
                              "payrollEntityId": null,
                              "percentCost": 0,
                              "physicalLocation": null,
                              "pieceId": null,
                              "provider": null,
                              "providerId": null,
                              "puc": null,
                              "pucId": null,
                              "quantity": 1000,
                              "quantityRefund": 0,
                              "quoteNumber": null,
                              "reteICA": null,
                              "reteICAPercent": 0,
                              "search": null,
                              "sectionId": 1,
                              "selected": null,
                              "sizeId": null,
                              "sourceDocumentDetail": null,
                              "sourceDocumentDetailId": null,
                              "sourceDocumentNumber": null,
                              "sourceDocumentPrefix": null,
                              "sourceDocumentTypeId": null,
                              "surcharge": 0,
                              "third": null,
                              "thirdId": null,
                              "unitValue": 10000,
                              "units": 1000,
                              "updateBy": "Administrador del Sistema",
                              "updateDate": "Thu, 22 Jun 2017 11:43:19 GMT",
                              "value": 10000000,
                              "withholdingTax": 3.5,
                              "withholdingTaxPUC": {
                                "percentage": 3.5,
                                "pucAccount": "236540005 COMPRAS 3.5%",
                                "pucId": 7620
                              },
                              "withholdingTaxPUCId": 7620,
                              "withholdingValue": 0
                            },
                            "sourceDocumentDetailId": 13459,
                            "sourceDocumentNumber": null,
                            "sourceDocumentPrefix": null,
                            "sourceDocumentTypeId": null,
                            "surcharge": 0,
                            "third": null,
                            "thirdId": null,
                            "unitValue": 10000,
                            "units": 1000,
                            "updateBy": "Administrador del Sistema",
                            "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
                            "value": 10000000,
                            "withholdingTax": 3.5,
                            "withholdingTaxPUC": {
                              "percentage": 3.5,
                              "pucAccount": "236540005 COMPRAS 3.5%",
                              "pucId": 7620
                            },
                            "withholdingTaxPUCId": 7620,
                            "withholdingValue": 0,
                            "quantityBefore": 999
                          },
                          "sourceDocumentDetailId": 13459,
                          "sourceDocumentNumber": null,
                          "sourceDocumentPrefix": null,
                          "sourceDocumentTypeId": null,
                          "surcharge": 0,
                          "third": null,
                          "thirdId": null,
                          "unitValue": 10000,
                          "units": 999,
                          "updateBy": "Administrador del Sistema",
                          "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
                          "value": 9990000,
                          "withholdingTax": 3.5,
                          "withholdingTaxPUC": {
                            "dueDate": false,
                            "name": "COMPRAS 3.5%",
                            "percentage": 3.5,
                            "pucAccount": "236540005",
                            "pucId": 7620,
                            "quantity": false
                          },
                          "withholdingTaxPUCId": 7620,
                          "withholdingValue": 0,
                          "itemToCompare": {
                            "addConsumptionToCost": false,
                            "addConsumptionToPurchase": false,
                            "addIVAtoCost": false,
                            "averageCost": 0,
                            "barCode": null,
                            "brandId": null,
                            "code": "NORMAL",
                            "color": false,
                            "companyCost": 10000,
                            "companyId": 1,
                            "consumptionPUC": null,
                            "consumptionPUCId": null,
                            "consumptionPercentage": 0,
                            "conversionFactor": 2,
                            "conversionFactor2": 1000,
                            "costPUC": {
                              "percentage": 0,
                              "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
                              "pucId": 10252
                            },
                            "costPUCId": 10252,
                            "createdBy": "Administrador del Sistema",
                            "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
                            "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
                            "disccountToUnitValue": false,
                            "discountPercentage": 0,
                            "imageId": null,
                            "incomingPUC": {
                              "percentage": 0,
                              "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
                              "pucId": 2328
                            },
                            "incomingPUCId": 2328,
                            "inventoryGroup": null,
                            "inventoryGroupId": null,
                            "inventoryPUC": {
                              "percentage": 0,
                              "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
                              "pucId": 6651
                            },
                            "inventoryPUCId": 6651,
                            "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
                            "invimaRegister": "IVM3265-85",
                            "isDeleted": false,
                            "itemId": 279,
                            "ivaPurchasePUC": {
                              "percentage": 16,
                              "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                              "pucId": 7746
                            },
                            "ivaPurchasePUCId": 7746,
                            "ivaSalePUC": {
                              "percentage": 16,
                              "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
                              "pucId": 7721
                            },
                            "ivaSalePUCId": 7721,
                            "lastCost": 0,
                            "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
                            "lot": false,
                            "measurementUnit": {
                              "code": "KGM",
                              "measurementUnitId": 13,
                              "name": "KILOGRAMOS                    "
                            },
                            "measurementUnit2": {
                              "code": "LBS",
                              "measurementUnitId": 14,
                              "name": "LIBRAS                        "
                            },
                            "measurementUnit2Id": 14,
                            "measurementUnit3": {
                              "code": "GRM",
                              "measurementUnitId": 2,
                              "name": "GRAMOS                        "
                            },
                            "measurementUnit3Id": 2,
                            "measurementUnitId": 13,
                            "minimumStock": 0,
                            "name": "NORMAL",
                            "namePOS": "NORMAL",
                            "orderQuantity": 0,
                            "packagePrice": 0,
                            "percentageICA": 0,
                            "percentagePurchaseIVA": 16,
                            "percentageSaleIVA": 16,
                            "plu": null,
                            "priceList1": 10000,
                            "priceList10": 0,
                            "priceList2": 15000,
                            "priceList3": 0,
                            "priceList4": 0,
                            "priceList5": 0,
                            "priceList6": 0,
                            "priceList7": 0,
                            "priceList8": 0,
                            "priceList9": 0,
                            "priceListA1": 5000,
                            "priceListA10": 0,
                            "priceListA2": 7500,
                            "priceListA3": 0,
                            "priceListA4": 0,
                            "priceListA5": 0,
                            "priceListA6": 0,
                            "priceListA7": 0,
                            "priceListA8": 0,
                            "priceListA9": 0,
                            "priceListB1": 100,
                            "priceListB10": 0,
                            "priceListB2": 150,
                            "priceListB3": 0,
                            "priceListB4": 0,
                            "priceListB5": 0,
                            "priceListB6": 0,
                            "priceListB7": 0,
                            "priceListB8": 0,
                            "priceListB9": 0,
                            "providerId": null,
                            "purchaseIVA": {
                              "code": "G",
                              "ivaId": 2,
                              "name": "GRAVADO"
                            },
                            "purchaseIVAId": 2,
                            "reference": null,
                            "saleIVA": {
                              "code": "G",
                              "ivaId": 2,
                              "name": "GRAVADO"
                            },
                            "saleIVAId": 2,
                            "serial": false,
                            "size": false,
                            "state": "A",
                            "subInventoryGroup1Id": null,
                            "subInventoryGroup2": null,
                            "subInventoryGroup2Id": null,
                            "subInventoryGroup3": null,
                            "subInventoryGroup3Id": null,
                            "subInventoryGroups1": null,
                            "typeItem": "A",
                            "updateBy": "Administrador del Sistema",
                            "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
                            "weight": 0,
                            "withholdingICA": false,
                            "withholdingPurchasePercentage": 3.5,
                            "withholdingSalePercentage": 3.5,
                            "withholdingTaxPurchasePUC": {
                              "percentage": 3.5,
                              "pucAccount": "236540005 COMPRAS 3.5%",
                              "pucId": 7620
                            },
                            "withholdingTaxPurchasePUCId": 7620,
                            "withholdingTaxSalePUC": {
                              "percentage": 3.5,
                              "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
                              "pucId": 6459
                            },
                            "withholdingTaxSalePUCId": 6459
                          },
                          "code": "NORMAL",
                          "name": "NORMAL",
                          "size": false,
                          "color": false,
                          "withholdingICA": false,
                          "ivaPurchasePUC": {
                            "dueDate": false,
                            "name": "IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
                            "percentage": 16,
                            "pucAccount": "240820010",
                            "pucId": 7746,
                            "quantity": false
                          },
                          "measurementUnits": [
                            {
                              "code": "KGM",
                              "measurementUnitId": 13,
                              "name": "KILOGRAMOS                    "
                            },
                            {
                              "code": "LBS",
                              "measurementUnitId": 14,
                              "name": "LIBRAS                        "
                            },
                            {
                              "code": "GRM",
                              "measurementUnitId": 2,
                              "name": "GRAMOS                        "
                            }
                          ],
                          "indexItem": 0,
                          "und": {
                            "code": "KGM",
                            "measurementUnitId": 13,
                            "name": "KILOGRAMOS                    "
                          }
                        }
                      ],
                      "provider": {
                        "branch": "23",
                        "isWithholdingCREE": 1,
                        "name": "PET DEL VALLE    (900775860) - PET DEL VALLE",
                        "providerId": 27,
                        "thirdPartyId": 526,
                        "thirdParty": {
                          "alternateIdentification": "",
                          "comments": "",
                          "createdBy": "JULIO CESAR CASAÑAS",
                          "creationDate": "Fri, 24 Jun 2016 15:40:30 GMT",
                          "economicActivity": {
                            "code": "2229",
                            "createdBy": "CREE",
                            "creationDate": "Tue, 28 May 2013 14:39:28 GMT",
                            "economicActivityId": 123,
                            "name": "Fabricación de artículos de plástico n.c.p.",
                            "percentage": 0.3,
                            "updateBy": "CREE",
                            "updateDate": "Tue, 28 May 2013 14:39:28 GMT"
                          },
                          "economicActivityId": 123,
                          "entryDate": "Fri, 24 Jun 2016 15:22:57 GMT",
                          "firstName": "",
                          "identificationDV": "8",
                          "identificationNumber": "900775860",
                          "identificationType": {
                            "code": "N",
                            "createdBy": "Migracion",
                            "creationDate": "Fri, 17 Aug 2012 10:34:52 GMT",
                            "identificationTypeDian": "31",
                            "identificationTypeId": 3,
                            "isDeleted": 0,
                            "name": "Nit",
                            "updateBy": "Migracion"
                          },
                          "identificationTypeId": 3,
                          "imageId": null,
                          "isDeleted": false,
                          "isGreatTaxPayer": false,
                          "isSelfRetainer": false,
                          "isSelfRetainerICA": true,
                          "isWithholdingCREE": true,
                          "ivaTypeId": 1,
                          "lastName": "",
                          "maidenName": "",
                          "retirementDate": null,
                          "rut": true,
                          "secondName": "",
                          "state": "A",
                          "thirdPartyId": 526,
                          "thirdType": "J",
                          "tradeName": "  PET DEL VALLE",
                          "updateBy": "EDILMA SOTO SILVA",
                          "updateDate": "Thu, 06 Apr 2017 15:41:49 GMT",
                          "webPage": "dbastidas@petdelvalle.com"
                        }
                      },
                      "providerId": 27,
                      "disccount": 199800,
                      "disccount2": 0,
                      "disccount2TaxBase": 0,
                      "disccount2Value": 0,
                      "ivaValue": 1566432,
                      "withholdingTaxValue": 342657,
                      "subtotal": 9990000,
                      "retentionValue": 0,
                      "retentionPercent": 0,
                      "retentionPUCId": null,
                      "reteICAValue": 0,
                      "reteICAPercent": 0,
                      "reteIVAValue": 0,
                      "reteIVAPercent": 0,
                      "overCost": 0,
                      "overCostTaxBase": 0,
                      "consumptionTaxValue": 0,
                      "valueCREE": 0,
                      "applyCree": null,
                      "reteICABase": 0,
                      "reteIVABase": 0,
                      "total": 11013975,
                      "payment": 11013975,
                      "percentageCREE": 0,
                      "comments": "text for example",
                      "paymentReceipt": {},
                      "documentAffecting": [],
                      "baseCREE": 0,
                      "thirdId": null,
                      "branchId": 1
                    }
                ,...{}]
            }
        @apiErrorExample {json} DocumentNotFoundError The search empty result
        HTTP/1.1 200 OK
            {
                "data": []
            }
        @apiErrorExample {json} Find error
            HTTP/1.1 500 Internal Server Error
        """
    ra = request.args.get
    short_word = "FP" if ra('short_word') == "FP" or ra('shortWord') == "FP" else None
    document_number = ra('document_number') if ra('document_number') else ra('documentNumber') if ra('documentNumber') else None
    branch_id = ra('branch_id') if ra('branch_id') else ra('branchId') if ra('branchId') else None
    kwargs = dict(short_word=short_word, document_number=document_number, branch_id=branch_id)
    # Estos datos son obigatorios en el momento de buscar
    if short_word is None or document_number is None or branch_id is None:
        raise ValidationError("Invalid params")
    # Realiza un llamado al document header con estos parametros para realizar la busqueda
    response = DocumentHeader.get_by_seach(**kwargs)
    # En caso de no encontrar el consecutivo retorna {} con el fin
    if not response:
        return jsonify({})
    # Exporto el avance de tercero en formato json
    response = InvoiceGlobalRemission.export_data(response)
    # Busqueda de documento afectados
    affecting = DocumentHeader.documents_affecting(response)
    if len(affecting):
        affecting = [a.export_data_documents_affecting() for a in affecting]
    else:
        affecting = []
    response['documentAffecting'] = affecting
    return jsonify(response)


@api.route('/invoice_gremission/allremissions', methods=['GET'])
@authorize('invoiceGlobalRemission', 'r')
def get_remissions():
    """
    @api {get} /invoice_gremission/allremissions Alls Invoice Remissions
    @apiName InvoiceGlobalRemission
    @apiGroup Purchase.Invoice Global Remission
    @apiDescription Allow obtain all remissions according to provider
    @apiParamExample {json} Input
    {
        "provider": {
            "providerId": 270
        },
        "providerId": 270
    }
    @apiSuccessExample {json} Success
    HTTP/1.1 200 OK
    data[{},...,,{}]
    @apiErrorExample {json} DocumentNotFoundError The id of the Document was not found.
        HTTP/1.1 404 Internal Server Error
    @apiErrorExample {json} Error-Response
        HTTP/1.1 500 Internal Server Error
    """
    ra = request.args.get
    provider_id = ra('providerId')
    kwargs = dict(provider_id=provider_id)
    # Realiza un llamado al document header con estos parametros para realizar la busqueda
    response = InvoiceGlobalRemission.get_all_remissions(**kwargs)
    # En caso de no encontrar el consecutivo retorna {} con el fin
    if not response:
        return jsonify(data = [])
    # Exporto el avance de tercero en formato json
    response = [InvoiceGlobalRemission.export_data(rm) for rm in response]
    return jsonify(data = response)


@api.route('/invoice_gremission/', methods=['GET'])
@authorize('invoiceGlobalRemission', 'r')
def get_global_remission():
    """
    @api {get} /invoice_gremission/ Alls Invoice Global Remissions
    @apiName InvoiceGlobalRemission
    @apiGroup Purchase.Invoice Global Remission
    @apiDescription Allow obtain all global remissions document
    @apiSuccessExample {json} Success
    HTTP/1.1 200 OK
    data[{},...,
    ,{}]
    @apiErrorExample {json} DocumentNotFoundError The id of the Document was not found.
        HTTP/1.1 404 Internal Server Error
    @apiErrorExample {json} Error-Response
        HTTP/1.1 500 Internal Server Error
    """
    response = InvoiceGlobalRemission.get_all()
    return response


@api.route('/invoice_gremission/<int:id_invoice_gremission>', methods=['GET'])
@authorize('invoiceGlobalRemission', 'r')
def get_invoice_gremission(id_invoice_gremission):

    """
        @api {get} /invoice_gremission/invoiceGlobalRemissionId Get Invoice Global Remission
        @apiGroup Purchase.Invoice Global Remission
        @apiDescription Return invoice global remission value for the given id
        @apiParam {Number} invoiceGlobalRemissionId identifier by sale aiu document

        @apiSuccessExample {json} Success
          HTTP/1.1 200 OK
            {
  "sourceDocumentHeaderId": null,
  "documentNumber": "0000000664",
  "annuled": null,
  "controlPrefix": "TXT",
  "paymentTermId": 2,
  "documentDate": "2017-06-27T07:31:44.000Z",
  "controlNumber": "0121000",
  "sourceDocumentOrigin": "RP",
  "termDays": "3",
  "dateTo": "2017-06-30T22:31:18.772Z",
  "costCenter": null,
  "costCenterId": 1,
  "divisionId": 1,
  "sectionId": 1,
  "exchangeRate": 1,
  "dependencyId": null,
  "shortWord": "FP",
  "sourceShortWord": "FRP",
  "currencyId": 4,
  "documentDetails": [
    {
      "accountNumber": null,
      "amount": 0,
      "asset": null,
      "assetId": null,
      "authorizationNumber": null,
      "availableStock": 0,
      "balance": 999,
      "bankAccountId": null,
      "bankCode": null,
      "bankName": null,
      "baseValue": 9790200,
      "businessAgentId": null,
      "cashRegisterId": null,
      "checkNumber": null,
      "colorId": null,
      "comments": null,
      "consumptionTaxBase": 9790200,
      "consumptionTaxPUC": null,
      "consumptionTaxPUCId": null,
      "consumptionTaxPercent": 0,
      "consumptionTaxValue": 0,
      "conversionFactor": 1,
      "cost": 0,
      "costCenterId": 1,
      "createdBy": "Administrador del Sistema",
      "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
      "crossDocumentHeaderId": null,
      "customerId": null,
      "dependencyId": null,
      "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
      "detailDocument": null,
      "detailDocumentTypeId": 124,
      "detailPrefix": null,
      "detailWarehouse": {
        "code": "001",
        "name": "MATERIA PRIMA",
        "typeWarehouse": "G",
        "warehouseId": 2,
        "codeComplete": "Código 001"
      },
      "detailWarehouseId": 2,
      "disccount": 2,
      "divisionId": 1,
      "documentDetailId": 13459,
      "documentHeaderId": 6047,
      "dueDate": null,
      "employeeId": null,
      "finalDate": null,
      "financialEntityId": null,
      "globalTax": 0,
      "icaPercent": 0,
      "importConceptId": null,
      "initialDate": null,
      "interest": 0,
      "isDeleted": 0,
      "item": {
        "addConsumptionToCost": false,
        "addConsumptionToPurchase": false,
        "addIVAtoCost": false,
        "averageCost": 0,
        "barCode": null,
        "brandId": null,
        "code": "NORMAL",
        "color": false,
        "companyCost": 10000,
        "companyId": 1,
        "consumptionPUC": null,
        "consumptionPUCId": null,
        "consumptionPercentage": 0,
        "conversionFactor": 2,
        "conversionFactor2": 1000,
        "costPUC": {
          "percentage": 0,
          "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
          "pucId": 10252
        },
        "costPUCId": 10252,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
        "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
        "disccountToUnitValue": false,
        "discountPercentage": 0,
        "imageId": null,
        "incomingPUC": {
          "percentage": 0,
          "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
          "pucId": 2328
        },
        "incomingPUCId": 2328,
        "inventoryGroup": null,
        "inventoryGroupId": null,
        "inventoryPUC": {
          "percentage": 0,
          "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
          "pucId": 6651
        },
        "inventoryPUCId": 6651,
        "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
        "invimaRegister": "IVM3265-85",
        "isDeleted": false,
        "itemId": 279,
        "ivaPurchasePUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPurchasePUCId": 7746,
        "ivaSalePUC": {
          "percentage": 16,
          "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
          "pucId": 7721
        },
        "ivaSalePUCId": 7721,
        "lastCost": 0,
        "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
        "lot": false,
        "measurementUnit": {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        "measurementUnit2": {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        "measurementUnit2Id": 14,
        "measurementUnit3": {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        },
        "measurementUnit3Id": 2,
        "measurementUnitId": 13,
        "minimumStock": 0,
        "name": "NORMAL",
        "namePOS": "NORMAL",
        "orderQuantity": 0,
        "packagePrice": 0,
        "percentageICA": 0,
        "percentagePurchaseIVA": 16,
        "percentageSaleIVA": 16,
        "plu": null,
        "priceList1": 10000,
        "priceList10": 0,
        "priceList2": 15000,
        "priceList3": 0,
        "priceList4": 0,
        "priceList5": 0,
        "priceList6": 0,
        "priceList7": 0,
        "priceList8": 0,
        "priceList9": 0,
        "priceListA1": 5000,
        "priceListA10": 0,
        "priceListA2": 7500,
        "priceListA3": 0,
        "priceListA4": 0,
        "priceListA5": 0,
        "priceListA6": 0,
        "priceListA7": 0,
        "priceListA8": 0,
        "priceListA9": 0,
        "priceListB1": 100,
        "priceListB10": 0,
        "priceListB2": 150,
        "priceListB3": 0,
        "priceListB4": 0,
        "priceListB5": 0,
        "priceListB6": 0,
        "priceListB7": 0,
        "priceListB8": 0,
        "priceListB9": 0,
        "providerId": null,
        "purchaseIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "purchaseIVAId": 2,
        "reference": null,
        "saleIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "saleIVAId": 2,
        "serial": false,
        "size": false,
        "state": "A",
        "subInventoryGroup1Id": null,
        "subInventoryGroup2": null,
        "subInventoryGroup2Id": null,
        "subInventoryGroup3": null,
        "subInventoryGroup3Id": null,
        "subInventoryGroups1": null,
        "typeItem": "A",
        "updateBy": "Administrador del Sistema",
        "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
        "weight": 0,
        "withholdingICA": false,
        "withholdingPurchasePercentage": 3.5,
        "withholdingSalePercentage": 3.5,
        "withholdingTaxPurchasePUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPurchasePUCId": 7620,
        "withholdingTaxSalePUC": {
          "percentage": 3.5,
          "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
          "pucId": 6459
        },
        "withholdingTaxSalePUCId": 6459
      },
      "itemId": 279,
      "iva": 16,
      "ivaCustomer": null,
      "ivaPUC": {
        "percentage": 16,
        "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
        "pucId": 7746
      },
      "ivaPUCId": 7746,
      "kitAssetId": null,
      "kitItemId": null,
      "kitLaborId": null,
      "listSerials": [],
      "lot": null,
      "mainUnitValue": 0,
      "measurementUnitId": 13,
      "otherThirdId": null,
      "overCost": 0,
      "partnerId": null,
      "payrollConceptId": null,
      "payrollEntityId": null,
      "percentCost": 0,
      "physicalLocation": null,
      "pieceId": null,
      "provider": null,
      "providerId": null,
      "puc": null,
      "pucId": null,
      "quantity": 999,
      "quantityRefund": 1,
      "quoteNumber": null,
      "reteICA": null,
      "reteICAPercent": 0,
      "search": null,
      "sectionId": 1,
      "selected": null,
      "sizeId": null,
      "sourceDocumentDetail": {
        "accountNumber": null,
        "amount": 0,
        "asset": null,
        "assetId": null,
        "authorizationNumber": null,
        "availableStock": 0,
        "balance": 0,
        "bankAccountId": null,
        "bankCode": null,
        "bankName": null,
        "baseValue": 9604000,
        "businessAgentId": null,
        "cashRegisterId": null,
        "checkNumber": null,
        "colorId": null,
        "comments": null,
        "consumptionTaxBase": 9604000,
        "consumptionTaxPUC": null,
        "consumptionTaxPUCId": null,
        "consumptionTaxPercent": 0,
        "consumptionTaxValue": 0,
        "conversionFactor": 1,
        "cost": 0,
        "costCenterId": 1,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
        "crossDocumentHeaderId": null,
        "customerId": null,
        "dependencyId": null,
        "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
        "detailDocument": null,
        "detailDocumentTypeId": 124,
        "detailPrefix": null,
        "detailWarehouse": {
          "code": "001",
          "name": "MATERIA PRIMA",
          "typeWarehouse": "G",
          "warehouseId": 2
        },
        "detailWarehouseId": 2,
        "disccount": 2,
        "divisionId": 1,
        "documentDetailId": 13459,
        "documentHeaderId": 6047,
        "dueDate": null,
        "employeeId": null,
        "finalDate": null,
        "financialEntityId": null,
        "globalTax": 0,
        "icaPercent": 0,
        "importConceptId": null,
        "initialDate": null,
        "interest": 0,
        "isDeleted": 0,
        "item": {
          "addConsumptionToCost": false,
          "addConsumptionToPurchase": false,
          "addIVAtoCost": false,
          "averageCost": 0,
          "barCode": null,
          "brandId": null,
          "code": "NORMAL",
          "color": false,
          "companyCost": 10000,
          "companyId": 1,
          "consumptionPUC": null,
          "consumptionPUCId": null,
          "consumptionPercentage": 0,
          "conversionFactor": 2,
          "conversionFactor2": 1000,
          "costPUC": {
            "percentage": 0,
            "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
            "pucId": 10252
          },
          "costPUCId": 10252,
          "createdBy": "Administrador del Sistema",
          "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
          "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
          "disccountToUnitValue": false,
          "discountPercentage": 0,
          "imageId": null,
          "incomingPUC": {
            "percentage": 0,
            "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
            "pucId": 2328
          },
          "incomingPUCId": 2328,
          "inventoryGroup": null,
          "inventoryGroupId": null,
          "inventoryPUC": {
            "percentage": 0,
            "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
            "pucId": 6651
          },
          "inventoryPUCId": 6651,
          "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
          "invimaRegister": "IVM3265-85",
          "isDeleted": false,
          "itemId": 279,
          "ivaPurchasePUC": {
            "percentage": 16,
            "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
            "pucId": 7746
          },
          "ivaPurchasePUCId": 7746,
          "ivaSalePUC": {
            "percentage": 16,
            "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
            "pucId": 7721
          },
          "ivaSalePUCId": 7721,
          "lastCost": 0,
          "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
          "lot": false,
          "measurementUnit": {
            "code": "KGM",
            "measurementUnitId": 13,
            "name": "KILOGRAMOS                    "
          },
          "measurementUnit2": {
            "code": "LBS",
            "measurementUnitId": 14,
            "name": "LIBRAS                        "
          },
          "measurementUnit2Id": 14,
          "measurementUnit3": {
            "code": "GRM",
            "measurementUnitId": 2,
            "name": "GRAMOS                        "
          },
          "measurementUnit3Id": 2,
          "measurementUnitId": 13,
          "minimumStock": 0,
          "name": "NORMAL",
          "namePOS": "NORMAL",
          "orderQuantity": 0,
          "packagePrice": 0,
          "percentageICA": 0,
          "percentagePurchaseIVA": 16,
          "percentageSaleIVA": 16,
          "plu": null,
          "priceList1": 10000,
          "priceList10": 0,
          "priceList2": 15000,
          "priceList3": 0,
          "priceList4": 0,
          "priceList5": 0,
          "priceList6": 0,
          "priceList7": 0,
          "priceList8": 0,
          "priceList9": 0,
          "priceListA1": 5000,
          "priceListA10": 0,
          "priceListA2": 7500,
          "priceListA3": 0,
          "priceListA4": 0,
          "priceListA5": 0,
          "priceListA6": 0,
          "priceListA7": 0,
          "priceListA8": 0,
          "priceListA9": 0,
          "priceListB1": 100,
          "priceListB10": 0,
          "priceListB2": 150,
          "priceListB3": 0,
          "priceListB4": 0,
          "priceListB5": 0,
          "priceListB6": 0,
          "priceListB7": 0,
          "priceListB8": 0,
          "priceListB9": 0,
          "providerId": null,
          "purchaseIVA": {
            "code": "G",
            "ivaId": 2,
            "name": "GRAVADO"
          },
          "purchaseIVAId": 2,
          "reference": null,
          "saleIVA": {
            "code": "G",
            "ivaId": 2,
            "name": "GRAVADO"
          },
          "saleIVAId": 2,
          "serial": false,
          "size": false,
          "state": "A",
          "subInventoryGroup1Id": null,
          "subInventoryGroup2": null,
          "subInventoryGroup2Id": null,
          "subInventoryGroup3": null,
          "subInventoryGroup3Id": null,
          "subInventoryGroups1": null,
          "typeItem": "A",
          "updateBy": "Administrador del Sistema",
          "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
          "weight": 0,
          "withholdingICA": false,
          "withholdingPurchasePercentage": 3.5,
          "withholdingSalePercentage": 3.5,
          "withholdingTaxPurchasePUC": {
            "percentage": 3.5,
            "pucAccount": "236540005 COMPRAS 3.5%",
            "pucId": 7620
          },
          "withholdingTaxPurchasePUCId": 7620,
          "withholdingTaxSalePUC": {
            "percentage": 3.5,
            "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
            "pucId": 6459
          },
          "withholdingTaxSalePUCId": 6459
        },
        "itemId": 279,
        "iva": 16,
        "ivaCustomer": null,
        "ivaPUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPUCId": 7746,
        "kitAssetId": null,
        "kitItemId": null,
        "kitLaborId": null,
        "listSerials": [],
        "lot": null,
        "mainUnitValue": 0,
        "measurementUnitId": 13,
        "otherThirdId": null,
        "overCost": 0,
        "partnerId": null,
        "payrollConceptId": null,
        "payrollEntityId": null,
        "percentCost": 0,
        "physicalLocation": null,
        "pieceId": null,
        "provider": null,
        "providerId": null,
        "puc": null,
        "pucId": null,
        "quantity": 1000,
        "quantityRefund": 1,
        "quoteNumber": null,
        "reteICA": null,
        "reteICAPercent": 0,
        "search": null,
        "sectionId": 1,
        "selected": null,
        "sizeId": null,
        "sourceDocumentDetail": {
          "accountNumber": null,
          "amount": 0,
          "asset": null,
          "assetId": null,
          "authorizationNumber": null,
          "availableStock": 0,
          "balance": 0,
          "bankAccountId": null,
          "bankCode": null,
          "bankName": null,
          "baseValue": 9604000,
          "businessAgentId": null,
          "cashRegisterId": null,
          "checkNumber": null,
          "colorId": null,
          "comments": null,
          "consumptionTaxBase": 9604000,
          "consumptionTaxPUC": null,
          "consumptionTaxPUCId": null,
          "consumptionTaxPercent": 0,
          "consumptionTaxValue": 0,
          "conversionFactor": 1,
          "cost": 0,
          "costCenterId": 1,
          "createdBy": "Administrador del Sistema",
          "creationDate": "Thu, 22 Jun 2017 11:42:45 GMT",
          "crossDocumentHeaderId": null,
          "customerId": null,
          "dependencyId": null,
          "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
          "detailDocument": null,
          "detailDocumentTypeId": 92,
          "detailPrefix": null,
          "detailWarehouse": {
            "code": "001",
            "name": "MATERIA PRIMA",
            "typeWarehouse": "G",
            "warehouseId": 2
          },
          "detailWarehouseId": 2,
          "disccount": 2,
          "divisionId": 1,
          "documentDetailId": 13458,
          "documentHeaderId": 6046,
          "dueDate": null,
          "employeeId": null,
          "finalDate": null,
          "financialEntityId": null,
          "globalTax": 0,
          "icaPercent": 0,
          "importConceptId": null,
          "initialDate": null,
          "interest": 0,
          "isDeleted": 0,
          "item": {
            "addConsumptionToCost": false,
            "addConsumptionToPurchase": false,
            "addIVAtoCost": false,
            "averageCost": 0,
            "barCode": null,
            "brandId": null,
            "code": "NORMAL",
            "color": false,
            "companyCost": 10000,
            "companyId": 1,
            "consumptionPUC": null,
            "consumptionPUCId": null,
            "consumptionPercentage": 0,
            "conversionFactor": 2,
            "conversionFactor2": 1000,
            "costPUC": {
              "percentage": 0,
              "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
              "pucId": 10252
            },
            "costPUCId": 10252,
            "createdBy": "Administrador del Sistema",
            "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
            "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
            "disccountToUnitValue": false,
            "discountPercentage": 0,
            "imageId": null,
            "incomingPUC": {
              "percentage": 0,
              "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
              "pucId": 2328
            },
            "incomingPUCId": 2328,
            "inventoryGroup": null,
            "inventoryGroupId": null,
            "inventoryPUC": {
              "percentage": 0,
              "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
              "pucId": 6651
            },
            "inventoryPUCId": 6651,
            "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
            "invimaRegister": "IVM3265-85",
            "isDeleted": false,
            "itemId": 279,
            "ivaPurchasePUC": {
              "percentage": 16,
              "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
              "pucId": 7746
            },
            "ivaPurchasePUCId": 7746,
            "ivaSalePUC": {
              "percentage": 16,
              "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
              "pucId": 7721
            },
            "ivaSalePUCId": 7721,
            "lastCost": 0,
            "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
            "lot": false,
            "measurementUnit": {
              "code": "KGM",
              "measurementUnitId": 13,
              "name": "KILOGRAMOS                    "
            },
            "measurementUnit2": {
              "code": "LBS",
              "measurementUnitId": 14,
              "name": "LIBRAS                        "
            },
            "measurementUnit2Id": 14,
            "measurementUnit3": {
              "code": "GRM",
              "measurementUnitId": 2,
              "name": "GRAMOS                        "
            },
            "measurementUnit3Id": 2,
            "measurementUnitId": 13,
            "minimumStock": 0,
            "name": "NORMAL",
            "namePOS": "NORMAL",
            "orderQuantity": 0,
            "packagePrice": 0,
            "percentageICA": 0,
            "percentagePurchaseIVA": 16,
            "percentageSaleIVA": 16,
            "plu": null,
            "priceList1": 10000,
            "priceList10": 0,
            "priceList2": 15000,
            "priceList3": 0,
            "priceList4": 0,
            "priceList5": 0,
            "priceList6": 0,
            "priceList7": 0,
            "priceList8": 0,
            "priceList9": 0,
            "priceListA1": 5000,
            "priceListA10": 0,
            "priceListA2": 7500,
            "priceListA3": 0,
            "priceListA4": 0,
            "priceListA5": 0,
            "priceListA6": 0,
            "priceListA7": 0,
            "priceListA8": 0,
            "priceListA9": 0,
            "priceListB1": 100,
            "priceListB10": 0,
            "priceListB2": 150,
            "priceListB3": 0,
            "priceListB4": 0,
            "priceListB5": 0,
            "priceListB6": 0,
            "priceListB7": 0,
            "priceListB8": 0,
            "priceListB9": 0,
            "providerId": null,
            "purchaseIVA": {
              "code": "G",
              "ivaId": 2,
              "name": "GRAVADO"
            },
            "purchaseIVAId": 2,
            "reference": null,
            "saleIVA": {
              "code": "G",
              "ivaId": 2,
              "name": "GRAVADO"
            },
            "saleIVAId": 2,
            "serial": false,
            "size": false,
            "state": "A",
            "subInventoryGroup1Id": null,
            "subInventoryGroup2": null,
            "subInventoryGroup2Id": null,
            "subInventoryGroup3": null,
            "subInventoryGroup3Id": null,
            "subInventoryGroups1": null,
            "typeItem": "A",
            "updateBy": "Administrador del Sistema",
            "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
            "weight": 0,
            "withholdingICA": false,
            "withholdingPurchasePercentage": 3.5,
            "withholdingSalePercentage": 3.5,
            "withholdingTaxPurchasePUC": {
              "percentage": 3.5,
              "pucAccount": "236540005 COMPRAS 3.5%",
              "pucId": 7620
            },
            "withholdingTaxPurchasePUCId": 7620,
            "withholdingTaxSalePUC": {
              "percentage": 3.5,
              "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
              "pucId": 6459
            },
            "withholdingTaxSalePUCId": 6459
          },
          "itemId": 279,
          "iva": 16,
          "ivaCustomer": null,
          "ivaPUC": {
            "percentage": 16,
            "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
            "pucId": 7746
          },
          "ivaPUCId": 7746,
          "kitAssetId": null,
          "kitItemId": null,
          "kitLaborId": null,
          "listSerials": [],
          "lot": null,
          "mainUnitValue": 0,
          "measurementUnitId": 13,
          "otherThirdId": null,
          "overCost": 0,
          "partnerId": null,
          "payrollConceptId": null,
          "payrollEntityId": null,
          "percentCost": 0,
          "physicalLocation": null,
          "pieceId": null,
          "provider": null,
          "providerId": null,
          "puc": null,
          "pucId": null,
          "quantity": 1000,
          "quantityRefund": 0,
          "quoteNumber": null,
          "reteICA": null,
          "reteICAPercent": 0,
          "search": null,
          "sectionId": 1,
          "selected": null,
          "sizeId": null,
          "sourceDocumentDetail": null,
          "sourceDocumentDetailId": null,
          "sourceDocumentNumber": null,
          "sourceDocumentPrefix": null,
          "sourceDocumentTypeId": null,
          "surcharge": 0,
          "third": null,
          "thirdId": null,
          "unitValue": 10000,
          "units": 1000,
          "updateBy": "Administrador del Sistema",
          "updateDate": "Thu, 22 Jun 2017 11:43:19 GMT",
          "value": 10000000,
          "withholdingTax": 3.5,
          "withholdingTaxPUC": {
            "percentage": 3.5,
            "pucAccount": "236540005 COMPRAS 3.5%",
            "pucId": 7620
          },
          "withholdingTaxPUCId": 7620,
          "withholdingValue": 0
        },
        "sourceDocumentDetailId": 13459,
        "sourceDocumentNumber": null,
        "sourceDocumentPrefix": null,
        "sourceDocumentTypeId": null,
        "surcharge": 0,
        "third": null,
        "thirdId": null,
        "unitValue": 10000,
        "units": 1000,
        "updateBy": "Administrador del Sistema",
        "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
        "value": 10000000,
        "withholdingTax": 3.5,
        "withholdingTaxPUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPUCId": 7620,
        "withholdingValue": 0,
        "quantityBefore": 999
      },
      "sourceDocumentDetailId": 13459,
      "sourceDocumentNumber": null,
      "sourceDocumentPrefix": null,
      "sourceDocumentTypeId": null,
      "surcharge": 0,
      "third": null,
      "thirdId": null,
      "unitValue": 10000,
      "units": 999,
      "updateBy": "Administrador del Sistema",
      "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
      "value": 9990000,
      "withholdingTax": 3.5,
      "withholdingTaxPUC": {
        "dueDate": false,
        "name": "COMPRAS 3.5%",
        "percentage": 3.5,
        "pucAccount": "236540005",
        "pucId": 7620,
        "quantity": false
      },
      "withholdingTaxPUCId": 7620,
      "withholdingValue": 0,
      "itemToCompare": {
        "addConsumptionToCost": false,
        "addConsumptionToPurchase": false,
        "addIVAtoCost": false,
        "averageCost": 0,
        "barCode": null,
        "brandId": null,
        "code": "NORMAL",
        "color": false,
        "companyCost": 10000,
        "companyId": 1,
        "consumptionPUC": null,
        "consumptionPUCId": null,
        "consumptionPercentage": 0,
        "conversionFactor": 2,
        "conversionFactor2": 1000,
        "costPUC": {
          "percentage": 0,
          "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
          "pucId": 10252
        },
        "costPUCId": 10252,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
        "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
        "disccountToUnitValue": false,
        "discountPercentage": 0,
        "imageId": null,
        "incomingPUC": {
          "percentage": 0,
          "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
          "pucId": 2328
        },
        "incomingPUCId": 2328,
        "inventoryGroup": null,
        "inventoryGroupId": null,
        "inventoryPUC": {
          "percentage": 0,
          "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
          "pucId": 6651
        },
        "inventoryPUCId": 6651,
        "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
        "invimaRegister": "IVM3265-85",
        "isDeleted": false,
        "itemId": 279,
        "ivaPurchasePUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPurchasePUCId": 7746,
        "ivaSalePUC": {
          "percentage": 16,
          "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
          "pucId": 7721
        },
        "ivaSalePUCId": 7721,
        "lastCost": 0,
        "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
        "lot": false,
        "measurementUnit": {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        "measurementUnit2": {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        "measurementUnit2Id": 14,
        "measurementUnit3": {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        },
        "measurementUnit3Id": 2,
        "measurementUnitId": 13,
        "minimumStock": 0,
        "name": "NORMAL",
        "namePOS": "NORMAL",
        "orderQuantity": 0,
        "packagePrice": 0,
        "percentageICA": 0,
        "percentagePurchaseIVA": 16,
        "percentageSaleIVA": 16,
        "plu": null,
        "priceList1": 10000,
        "priceList10": 0,
        "priceList2": 15000,
        "priceList3": 0,
        "priceList4": 0,
        "priceList5": 0,
        "priceList6": 0,
        "priceList7": 0,
        "priceList8": 0,
        "priceList9": 0,
        "priceListA1": 5000,
        "priceListA10": 0,
        "priceListA2": 7500,
        "priceListA3": 0,
        "priceListA4": 0,
        "priceListA5": 0,
        "priceListA6": 0,
        "priceListA7": 0,
        "priceListA8": 0,
        "priceListA9": 0,
        "priceListB1": 100,
        "priceListB10": 0,
        "priceListB2": 150,
        "priceListB3": 0,
        "priceListB4": 0,
        "priceListB5": 0,
        "priceListB6": 0,
        "priceListB7": 0,
        "priceListB8": 0,
        "priceListB9": 0,
        "providerId": null,
        "purchaseIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "purchaseIVAId": 2,
        "reference": null,
        "saleIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "saleIVAId": 2,
        "serial": false,
        "size": false,
        "state": "A",
        "subInventoryGroup1Id": null,
        "subInventoryGroup2": null,
        "subInventoryGroup2Id": null,
        "subInventoryGroup3": null,
        "subInventoryGroup3Id": null,
        "subInventoryGroups1": null,
        "typeItem": "A",
        "updateBy": "Administrador del Sistema",
        "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
        "weight": 0,
        "withholdingICA": false,
        "withholdingPurchasePercentage": 3.5,
        "withholdingSalePercentage": 3.5,
        "withholdingTaxPurchasePUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPurchasePUCId": 7620,
        "withholdingTaxSalePUC": {
          "percentage": 3.5,
          "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
          "pucId": 6459
        },
        "withholdingTaxSalePUCId": 6459
      },
      "code": "NORMAL",
      "name": "NORMAL",
      "size": false,
      "color": false,
      "withholdingICA": false,
      "ivaPurchasePUC": {
        "dueDate": false,
        "name": "IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
        "percentage": 16,
        "pucAccount": "240820010",
        "pucId": 7746,
        "quantity": false
      },
      "measurementUnits": [
        {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        }
      ],
      "indexItem": 0,
      "und": {
        "code": "KGM",
        "measurementUnitId": 13,
        "name": "KILOGRAMOS                    "
      }
    }
  ],
  "provider": {
    "branch": "23",
    "isWithholdingCREE": 1,
    "name": "PET DEL VALLE    (900775860) - PET DEL VALLE",
    "providerId": 27,
    "thirdPartyId": 526,
    "thirdParty": {
      "alternateIdentification": "",
      "comments": "",
      "createdBy": "JULIO CESAR CASAÑAS",
      "creationDate": "Fri, 24 Jun 2016 15:40:30 GMT",
      "economicActivity": {
        "code": "2229",
        "createdBy": "CREE",
        "creationDate": "Tue, 28 May 2013 14:39:28 GMT",
        "economicActivityId": 123,
        "name": "Fabricación de artículos de plástico n.c.p.",
        "percentage": 0.3,
        "updateBy": "CREE",
        "updateDate": "Tue, 28 May 2013 14:39:28 GMT"
      },
      "economicActivityId": 123,
      "entryDate": "Fri, 24 Jun 2016 15:22:57 GMT",
      "firstName": "",
      "identificationDV": "8",
      "identificationNumber": "900775860",
      "identificationType": {
        "code": "N",
        "createdBy": "Migracion",
        "creationDate": "Fri, 17 Aug 2012 10:34:52 GMT",
        "identificationTypeDian": "31",
        "identificationTypeId": 3,
        "isDeleted": 0,
        "name": "Nit",
        "updateBy": "Migracion"
      },
      "identificationTypeId": 3,
      "imageId": null,
      "isDeleted": false,
      "isGreatTaxPayer": false,
      "isSelfRetainer": false,
      "isSelfRetainerICA": true,
      "isWithholdingCREE": true,
      "ivaTypeId": 1,
      "lastName": "",
      "maidenName": "",
      "retirementDate": null,
      "rut": true,
      "secondName": "",
      "state": "A",
      "thirdPartyId": 526,
      "thirdType": "J",
      "tradeName": "  PET DEL VALLE",
      "updateBy": "EDILMA SOTO SILVA",
      "updateDate": "Thu, 06 Apr 2017 15:41:49 GMT",
      "webPage": "dbastidas@petdelvalle.com"
    }
  },
  "providerId": 27,
  "disccount": 199800,
  "disccount2": 0,
  "disccount2TaxBase": 0,
  "disccount2Value": 0,
  "ivaValue": 1566432,
  "withholdingTaxValue": 342657,
  "subtotal": 9990000,
  "retentionValue": 0,
  "retentionPercent": 0,
  "retentionPUCId": null,
  "reteICAValue": 0,
  "reteICAPercent": 0,
  "reteIVAValue": 0,
  "reteIVAPercent": 0,
  "overCost": 0,
  "overCostTaxBase": 0,
  "consumptionTaxValue": 0,
  "valueCREE": 0,
  "applyCree": null,
  "reteICABase": 0,
  "reteIVABase": 0,
  "total": 11013975,
  "payment": 11013975,
  "percentageCREE": 0,
  "comments": "text for example",
  "paymentReceipt": {},
  "documentAffecting": [],
  "baseCREE": 0,
  "thirdId": null,
  "branchId": 1
}
         @apiErrorExample {json} DocumentNotFoundError The id of the Document was not found.
             HTTP/1.1 404 Internal Server Error
        @apiErrorExample {json} Find error
            HTTP/1.1 500 Internal Server Error
        """
    g_remission = InvoiceGlobalRemission.get_gremission(id_invoice_gremission)
    # Si no la encuentra el avance de tercero retorne un NOT FOUND
    if g_remission is None:
        abort(404)
    # Convierto la respuesta y retorno
    response = InvoiceGlobalRemission.export_data(g_remission)
    return jsonify(response)

@api.route('/invoice_gremission/', methods=['POST'])
@authorize('invoiceGlobalRemission', 'c')
def post_invoice_gremission():

    """
        @api {POST} /invoice_gremission/ Create a New Invoice Global Remission
        @apiGroup Purchase.Invoice Global Remission
        @apiParamExample {json} Input
            {
  "sourceDocumentHeaderId": null,
  "documentNumber": "0000000664",
  "annuled": null,
  "controlPrefix": "TXT",
  "paymentTermId": 2,
  "documentDate": "2017-06-27T07:31:44.000Z",
  "controlNumber": "0121000",
  "sourceDocumentOrigin": "RP",
  "termDays": "3",
  "dateTo": "2017-06-30T22:31:18.772Z",
  "costCenter": null,
  "costCenterId": 1,
  "divisionId": 1,
  "sectionId": 1,
  "exchangeRate": 1,
  "dependencyId": null,
  "shortWord": "FP",
  "sourceShortWord": "FRP",
  "currencyId": 4,
  "documentDetails": [
    {
      "accountNumber": null,
      "amount": 0,
      "asset": null,
      "assetId": null,
      "authorizationNumber": null,
      "availableStock": 0,
      "balance": 999,
      "bankAccountId": null,
      "bankCode": null,
      "bankName": null,
      "baseValue": 9790200,
      "businessAgentId": null,
      "cashRegisterId": null,
      "checkNumber": null,
      "colorId": null,
      "comments": null,
      "consumptionTaxBase": 9790200,
      "consumptionTaxPUC": null,
      "consumptionTaxPUCId": null,
      "consumptionTaxPercent": 0,
      "consumptionTaxValue": 0,
      "conversionFactor": 1,
      "cost": 0,
      "costCenterId": 1,
      "createdBy": "Administrador del Sistema",
      "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
      "crossDocumentHeaderId": null,
      "customerId": null,
      "dependencyId": null,
      "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
      "detailDocument": null,
      "detailDocumentTypeId": 124,
      "detailPrefix": null,
      "detailWarehouse": {
        "code": "001",
        "name": "MATERIA PRIMA",
        "typeWarehouse": "G",
        "warehouseId": 2,
        "codeComplete": "Código 001"
      },
      "detailWarehouseId": 2,
      "disccount": 2,
      "divisionId": 1,
      "documentDetailId": 13459,
      "documentHeaderId": 6047,
      "dueDate": null,
      "employeeId": null,
      "finalDate": null,
      "financialEntityId": null,
      "globalTax": 0,
      "icaPercent": 0,
      "importConceptId": null,
      "initialDate": null,
      "interest": 0,
      "isDeleted": 0,
      "item": {
        "addConsumptionToCost": false,
        "addConsumptionToPurchase": false,
        "addIVAtoCost": false,
        "averageCost": 0,
        "barCode": null,
        "brandId": null,
        "code": "NORMAL",
        "color": false,
        "companyCost": 10000,
        "companyId": 1,
        "consumptionPUC": null,
        "consumptionPUCId": null,
        "consumptionPercentage": 0,
        "conversionFactor": 2,
        "conversionFactor2": 1000,
        "costPUC": {
          "percentage": 0,
          "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
          "pucId": 10252
        },
        "costPUCId": 10252,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
        "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
        "disccountToUnitValue": false,
        "discountPercentage": 0,
        "imageId": null,
        "incomingPUC": {
          "percentage": 0,
          "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
          "pucId": 2328
        },
        "incomingPUCId": 2328,
        "inventoryGroup": null,
        "inventoryGroupId": null,
        "inventoryPUC": {
          "percentage": 0,
          "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
          "pucId": 6651
        },
        "inventoryPUCId": 6651,
        "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
        "invimaRegister": "IVM3265-85",
        "isDeleted": false,
        "itemId": 279,
        "ivaPurchasePUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPurchasePUCId": 7746,
        "ivaSalePUC": {
          "percentage": 16,
          "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
          "pucId": 7721
        },
        "ivaSalePUCId": 7721,
        "lastCost": 0,
        "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
        "lot": false,
        "measurementUnit": {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        "measurementUnit2": {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        "measurementUnit2Id": 14,
        "measurementUnit3": {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        },
        "measurementUnit3Id": 2,
        "measurementUnitId": 13,
        "minimumStock": 0,
        "name": "NORMAL",
        "namePOS": "NORMAL",
        "orderQuantity": 0,
        "packagePrice": 0,
        "percentageICA": 0,
        "percentagePurchaseIVA": 16,
        "percentageSaleIVA": 16,
        "plu": null,
        "priceList1": 10000,
        "priceList10": 0,
        "priceList2": 15000,
        "priceList3": 0,
        "priceList4": 0,
        "priceList5": 0,
        "priceList6": 0,
        "priceList7": 0,
        "priceList8": 0,
        "priceList9": 0,
        "priceListA1": 5000,
        "priceListA10": 0,
        "priceListA2": 7500,
        "priceListA3": 0,
        "priceListA4": 0,
        "priceListA5": 0,
        "priceListA6": 0,
        "priceListA7": 0,
        "priceListA8": 0,
        "priceListA9": 0,
        "priceListB1": 100,
        "priceListB10": 0,
        "priceListB2": 150,
        "priceListB3": 0,
        "priceListB4": 0,
        "priceListB5": 0,
        "priceListB6": 0,
        "priceListB7": 0,
        "priceListB8": 0,
        "priceListB9": 0,
        "providerId": null,
        "purchaseIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "purchaseIVAId": 2,
        "reference": null,
        "saleIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "saleIVAId": 2,
        "serial": false,
        "size": false,
        "state": "A",
        "subInventoryGroup1Id": null,
        "subInventoryGroup2": null,
        "subInventoryGroup2Id": null,
        "subInventoryGroup3": null,
        "subInventoryGroup3Id": null,
        "subInventoryGroups1": null,
        "typeItem": "A",
        "updateBy": "Administrador del Sistema",
        "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
        "weight": 0,
        "withholdingICA": false,
        "withholdingPurchasePercentage": 3.5,
        "withholdingSalePercentage": 3.5,
        "withholdingTaxPurchasePUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPurchasePUCId": 7620,
        "withholdingTaxSalePUC": {
          "percentage": 3.5,
          "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
          "pucId": 6459
        },
        "withholdingTaxSalePUCId": 6459
      },
      "itemId": 279,
      "iva": 16,
      "ivaCustomer": null,
      "ivaPUC": {
        "percentage": 16,
        "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
        "pucId": 7746
      },
      "ivaPUCId": 7746,
      "kitAssetId": null,
      "kitItemId": null,
      "kitLaborId": null,
      "listSerials": [],
      "lot": null,
      "mainUnitValue": 0,
      "measurementUnitId": 13,
      "otherThirdId": null,
      "overCost": 0,
      "partnerId": null,
      "payrollConceptId": null,
      "payrollEntityId": null,
      "percentCost": 0,
      "physicalLocation": null,
      "pieceId": null,
      "provider": null,
      "providerId": null,
      "puc": null,
      "pucId": null,
      "quantity": 999,
      "quantityRefund": 1,
      "quoteNumber": null,
      "reteICA": null,
      "reteICAPercent": 0,
      "search": null,
      "sectionId": 1,
      "selected": null,
      "sizeId": null,
      "sourceDocumentDetail": {
        "accountNumber": null,
        "amount": 0,
        "asset": null,
        "assetId": null,
        "authorizationNumber": null,
        "availableStock": 0,
        "balance": 0,
        "bankAccountId": null,
        "bankCode": null,
        "bankName": null,
        "baseValue": 9604000,
        "businessAgentId": null,
        "cashRegisterId": null,
        "checkNumber": null,
        "colorId": null,
        "comments": null,
        "consumptionTaxBase": 9604000,
        "consumptionTaxPUC": null,
        "consumptionTaxPUCId": null,
        "consumptionTaxPercent": 0,
        "consumptionTaxValue": 0,
        "conversionFactor": 1,
        "cost": 0,
        "costCenterId": 1,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
        "crossDocumentHeaderId": null,
        "customerId": null,
        "dependencyId": null,
        "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
        "detailDocument": null,
        "detailDocumentTypeId": 124,
        "detailPrefix": null,
        "detailWarehouse": {
          "code": "001",
          "name": "MATERIA PRIMA",
          "typeWarehouse": "G",
          "warehouseId": 2
        },
        "detailWarehouseId": 2,
        "disccount": 2,
        "divisionId": 1,
        "documentDetailId": 13459,
        "documentHeaderId": 6047,
        "dueDate": null,
        "employeeId": null,
        "finalDate": null,
        "financialEntityId": null,
        "globalTax": 0,
        "icaPercent": 0,
        "importConceptId": null,
        "initialDate": null,
        "interest": 0,
        "isDeleted": 0,
        "item": {
          "addConsumptionToCost": false,
          "addConsumptionToPurchase": false,
          "addIVAtoCost": false,
          "averageCost": 0,
          "barCode": null,
          "brandId": null,
          "code": "NORMAL",
          "color": false,
          "companyCost": 10000,
          "companyId": 1,
          "consumptionPUC": null,
          "consumptionPUCId": null,
          "consumptionPercentage": 0,
          "conversionFactor": 2,
          "conversionFactor2": 1000,
          "costPUC": {
            "percentage": 0,
            "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
            "pucId": 10252
          },
          "costPUCId": 10252,
          "createdBy": "Administrador del Sistema",
          "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
          "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
          "disccountToUnitValue": false,
          "discountPercentage": 0,
          "imageId": null,
          "incomingPUC": {
            "percentage": 0,
            "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
            "pucId": 2328
          },
          "incomingPUCId": 2328,
          "inventoryGroup": null,
          "inventoryGroupId": null,
          "inventoryPUC": {
            "percentage": 0,
            "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
            "pucId": 6651
          },
          "inventoryPUCId": 6651,
          "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
          "invimaRegister": "IVM3265-85",
          "isDeleted": false,
          "itemId": 279,
          "ivaPurchasePUC": {
            "percentage": 16,
            "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
            "pucId": 7746
          },
          "ivaPurchasePUCId": 7746,
          "ivaSalePUC": {
            "percentage": 16,
            "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
            "pucId": 7721
          },
          "ivaSalePUCId": 7721,
          "lastCost": 0,
          "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
          "lot": false,
          "measurementUnit": {
            "code": "KGM",
            "measurementUnitId": 13,
            "name": "KILOGRAMOS                    "
          },
          "measurementUnit2": {
            "code": "LBS",
            "measurementUnitId": 14,
            "name": "LIBRAS                        "
          },
          "measurementUnit2Id": 14,
          "measurementUnit3": {
            "code": "GRM",
            "measurementUnitId": 2,
            "name": "GRAMOS                        "
          },
          "measurementUnit3Id": 2,
          "measurementUnitId": 13,
          "minimumStock": 0,
          "name": "NORMAL",
          "namePOS": "NORMAL",
          "orderQuantity": 0,
          "packagePrice": 0,
          "percentageICA": 0,
          "percentagePurchaseIVA": 16,
          "percentageSaleIVA": 16,
          "plu": null,
          "priceList1": 10000,
          "priceList10": 0,
          "priceList2": 15000,
          "priceList3": 0,
          "priceList4": 0,
          "priceList5": 0,
          "priceList6": 0,
          "priceList7": 0,
          "priceList8": 0,
          "priceList9": 0,
          "priceListA1": 5000,
          "priceListA10": 0,
          "priceListA2": 7500,
          "priceListA3": 0,
          "priceListA4": 0,
          "priceListA5": 0,
          "priceListA6": 0,
          "priceListA7": 0,
          "priceListA8": 0,
          "priceListA9": 0,
          "priceListB1": 100,
          "priceListB10": 0,
          "priceListB2": 150,
          "priceListB3": 0,
          "priceListB4": 0,
          "priceListB5": 0,
          "priceListB6": 0,
          "priceListB7": 0,
          "priceListB8": 0,
          "priceListB9": 0,
          "providerId": null,
          "purchaseIVA": {
            "code": "G",
            "ivaId": 2,
            "name": "GRAVADO"
          },
          "purchaseIVAId": 2,
          "reference": null,
          "saleIVA": {
            "code": "G",
            "ivaId": 2,
            "name": "GRAVADO"
          },
          "saleIVAId": 2,
          "serial": false,
          "size": false,
          "state": "A",
          "subInventoryGroup1Id": null,
          "subInventoryGroup2": null,
          "subInventoryGroup2Id": null,
          "subInventoryGroup3": null,
          "subInventoryGroup3Id": null,
          "subInventoryGroups1": null,
          "typeItem": "A",
          "updateBy": "Administrador del Sistema",
          "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
          "weight": 0,
          "withholdingICA": false,
          "withholdingPurchasePercentage": 3.5,
          "withholdingSalePercentage": 3.5,
          "withholdingTaxPurchasePUC": {
            "percentage": 3.5,
            "pucAccount": "236540005 COMPRAS 3.5%",
            "pucId": 7620
          },
          "withholdingTaxPurchasePUCId": 7620,
          "withholdingTaxSalePUC": {
            "percentage": 3.5,
            "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
            "pucId": 6459
          },
          "withholdingTaxSalePUCId": 6459
        },
        "itemId": 279,
        "iva": 16,
        "ivaCustomer": null,
        "ivaPUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPUCId": 7746,
        "kitAssetId": null,
        "kitItemId": null,
        "kitLaborId": null,
        "listSerials": [],
        "lot": null,
        "mainUnitValue": 0,
        "measurementUnitId": 13,
        "otherThirdId": null,
        "overCost": 0,
        "partnerId": null,
        "payrollConceptId": null,
        "payrollEntityId": null,
        "percentCost": 0,
        "physicalLocation": null,
        "pieceId": null,
        "provider": null,
        "providerId": null,
        "puc": null,
        "pucId": null,
        "quantity": 1000,
        "quantityRefund": 1,
        "quoteNumber": null,
        "reteICA": null,
        "reteICAPercent": 0,
        "search": null,
        "sectionId": 1,
        "selected": null,
        "sizeId": null,
        "sourceDocumentDetail": {
          "accountNumber": null,
          "amount": 0,
          "asset": null,
          "assetId": null,
          "authorizationNumber": null,
          "availableStock": 0,
          "balance": 0,
          "bankAccountId": null,
          "bankCode": null,
          "bankName": null,
          "baseValue": 9604000,
          "businessAgentId": null,
          "cashRegisterId": null,
          "checkNumber": null,
          "colorId": null,
          "comments": null,
          "consumptionTaxBase": 9604000,
          "consumptionTaxPUC": null,
          "consumptionTaxPUCId": null,
          "consumptionTaxPercent": 0,
          "consumptionTaxValue": 0,
          "conversionFactor": 1,
          "cost": 0,
          "costCenterId": 1,
          "createdBy": "Administrador del Sistema",
          "creationDate": "Thu, 22 Jun 2017 11:42:45 GMT",
          "crossDocumentHeaderId": null,
          "customerId": null,
          "dependencyId": null,
          "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
          "detailDocument": null,
          "detailDocumentTypeId": 92,
          "detailPrefix": null,
          "detailWarehouse": {
            "code": "001",
            "name": "MATERIA PRIMA",
            "typeWarehouse": "G",
            "warehouseId": 2
          },
          "detailWarehouseId": 2,
          "disccount": 2,
          "divisionId": 1,
          "documentDetailId": 13458,
          "documentHeaderId": 6046,
          "dueDate": null,
          "employeeId": null,
          "finalDate": null,
          "financialEntityId": null,
          "globalTax": 0,
          "icaPercent": 0,
          "importConceptId": null,
          "initialDate": null,
          "interest": 0,
          "isDeleted": 0,
          "item": {
            "addConsumptionToCost": false,
            "addConsumptionToPurchase": false,
            "addIVAtoCost": false,
            "averageCost": 0,
            "barCode": null,
            "brandId": null,
            "code": "NORMAL",
            "color": false,
            "companyCost": 10000,
            "companyId": 1,
            "consumptionPUC": null,
            "consumptionPUCId": null,
            "consumptionPercentage": 0,
            "conversionFactor": 2,
            "conversionFactor2": 1000,
            "costPUC": {
              "percentage": 0,
              "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
              "pucId": 10252
            },
            "costPUCId": 10252,
            "createdBy": "Administrador del Sistema",
            "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
            "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
            "disccountToUnitValue": false,
            "discountPercentage": 0,
            "imageId": null,
            "incomingPUC": {
              "percentage": 0,
              "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
              "pucId": 2328
            },
            "incomingPUCId": 2328,
            "inventoryGroup": null,
            "inventoryGroupId": null,
            "inventoryPUC": {
              "percentage": 0,
              "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
              "pucId": 6651
            },
            "inventoryPUCId": 6651,
            "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
            "invimaRegister": "IVM3265-85",
            "isDeleted": false,
            "itemId": 279,
            "ivaPurchasePUC": {
              "percentage": 16,
              "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
              "pucId": 7746
            },
            "ivaPurchasePUCId": 7746,
            "ivaSalePUC": {
              "percentage": 16,
              "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
              "pucId": 7721
            },
            "ivaSalePUCId": 7721,
            "lastCost": 0,
            "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
            "lot": false,
            "measurementUnit": {
              "code": "KGM",
              "measurementUnitId": 13,
              "name": "KILOGRAMOS                    "
            },
            "measurementUnit2": {
              "code": "LBS",
              "measurementUnitId": 14,
              "name": "LIBRAS                        "
            },
            "measurementUnit2Id": 14,
            "measurementUnit3": {
              "code": "GRM",
              "measurementUnitId": 2,
              "name": "GRAMOS                        "
            },
            "measurementUnit3Id": 2,
            "measurementUnitId": 13,
            "minimumStock": 0,
            "name": "NORMAL",
            "namePOS": "NORMAL",
            "orderQuantity": 0,
            "packagePrice": 0,
            "percentageICA": 0,
            "percentagePurchaseIVA": 16,
            "percentageSaleIVA": 16,
            "plu": null,
            "priceList1": 10000,
            "priceList10": 0,
            "priceList2": 15000,
            "priceList3": 0,
            "priceList4": 0,
            "priceList5": 0,
            "priceList6": 0,
            "priceList7": 0,
            "priceList8": 0,
            "priceList9": 0,
            "priceListA1": 5000,
            "priceListA10": 0,
            "priceListA2": 7500,
            "priceListA3": 0,
            "priceListA4": 0,
            "priceListA5": 0,
            "priceListA6": 0,
            "priceListA7": 0,
            "priceListA8": 0,
            "priceListA9": 0,
            "priceListB1": 100,
            "priceListB10": 0,
            "priceListB2": 150,
            "priceListB3": 0,
            "priceListB4": 0,
            "priceListB5": 0,
            "priceListB6": 0,
            "priceListB7": 0,
            "priceListB8": 0,
            "priceListB9": 0,
            "providerId": null,
            "purchaseIVA": {
              "code": "G",
              "ivaId": 2,
              "name": "GRAVADO"
            },
            "purchaseIVAId": 2,
            "reference": null,
            "saleIVA": {
              "code": "G",
              "ivaId": 2,
              "name": "GRAVADO"
            },
            "saleIVAId": 2,
            "serial": false,
            "size": false,
            "state": "A",
            "subInventoryGroup1Id": null,
            "subInventoryGroup2": null,
            "subInventoryGroup2Id": null,
            "subInventoryGroup3": null,
            "subInventoryGroup3Id": null,
            "subInventoryGroups1": null,
            "typeItem": "A",
            "updateBy": "Administrador del Sistema",
            "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
            "weight": 0,
            "withholdingICA": false,
            "withholdingPurchasePercentage": 3.5,
            "withholdingSalePercentage": 3.5,
            "withholdingTaxPurchasePUC": {
              "percentage": 3.5,
              "pucAccount": "236540005 COMPRAS 3.5%",
              "pucId": 7620
            },
            "withholdingTaxPurchasePUCId": 7620,
            "withholdingTaxSalePUC": {
              "percentage": 3.5,
              "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
              "pucId": 6459
            },
            "withholdingTaxSalePUCId": 6459
          },
          "itemId": 279,
          "iva": 16,
          "ivaCustomer": null,
          "ivaPUC": {
            "percentage": 16,
            "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
            "pucId": 7746
          },
          "ivaPUCId": 7746,
          "kitAssetId": null,
          "kitItemId": null,
          "kitLaborId": null,
          "listSerials": [],
          "lot": null,
          "mainUnitValue": 0,
          "measurementUnitId": 13,
          "otherThirdId": null,
          "overCost": 0,
          "partnerId": null,
          "payrollConceptId": null,
          "payrollEntityId": null,
          "percentCost": 0,
          "physicalLocation": null,
          "pieceId": null,
          "provider": null,
          "providerId": null,
          "puc": null,
          "pucId": null,
          "quantity": 1000,
          "quantityRefund": 0,
          "quoteNumber": null,
          "reteICA": null,
          "reteICAPercent": 0,
          "search": null,
          "sectionId": 1,
          "selected": null,
          "sizeId": null,
          "sourceDocumentDetail": null,
          "sourceDocumentDetailId": null,
          "sourceDocumentNumber": null,
          "sourceDocumentPrefix": null,
          "sourceDocumentTypeId": null,
          "surcharge": 0,
          "third": null,
          "thirdId": null,
          "unitValue": 10000,
          "units": 1000,
          "updateBy": "Administrador del Sistema",
          "updateDate": "Thu, 22 Jun 2017 11:43:19 GMT",
          "value": 10000000,
          "withholdingTax": 3.5,
          "withholdingTaxPUC": {
            "percentage": 3.5,
            "pucAccount": "236540005 COMPRAS 3.5%",
            "pucId": 7620
          },
          "withholdingTaxPUCId": 7620,
          "withholdingValue": 0
        },
        "sourceDocumentDetailId": 13459,
        "sourceDocumentNumber": null,
        "sourceDocumentPrefix": null,
        "sourceDocumentTypeId": null,
        "surcharge": 0,
        "third": null,
        "thirdId": null,
        "unitValue": 10000,
        "units": 1000,
        "updateBy": "Administrador del Sistema",
        "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
        "value": 10000000,
        "withholdingTax": 3.5,
        "withholdingTaxPUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPUCId": 7620,
        "withholdingValue": 0,
        "quantityBefore": 999
      },
      "sourceDocumentDetailId": 13459,
      "sourceDocumentNumber": null,
      "sourceDocumentPrefix": null,
      "sourceDocumentTypeId": null,
      "surcharge": 0,
      "third": null,
      "thirdId": null,
      "unitValue": 10000,
      "units": 999,
      "updateBy": "Administrador del Sistema",
      "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
      "value": 9990000,
      "withholdingTax": 3.5,
      "withholdingTaxPUC": {
        "dueDate": false,
        "name": "COMPRAS 3.5%",
        "percentage": 3.5,
        "pucAccount": "236540005",
        "pucId": 7620,
        "quantity": false
      },
      "withholdingTaxPUCId": 7620,
      "withholdingValue": 0,
      "itemToCompare": {
        "addConsumptionToCost": false,
        "addConsumptionToPurchase": false,
        "addIVAtoCost": false,
        "averageCost": 0,
        "barCode": null,
        "brandId": null,
        "code": "NORMAL",
        "color": false,
        "companyCost": 10000,
        "companyId": 1,
        "consumptionPUC": null,
        "consumptionPUCId": null,
        "consumptionPercentage": 0,
        "conversionFactor": 2,
        "conversionFactor2": 1000,
        "costPUC": {
          "percentage": 0,
          "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
          "pucId": 10252
        },
        "costPUCId": 10252,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
        "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
        "disccountToUnitValue": false,
        "discountPercentage": 0,
        "imageId": null,
        "incomingPUC": {
          "percentage": 0,
          "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
          "pucId": 2328
        },
        "incomingPUCId": 2328,
        "inventoryGroup": null,
        "inventoryGroupId": null,
        "inventoryPUC": {
          "percentage": 0,
          "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
          "pucId": 6651
        },
        "inventoryPUCId": 6651,
        "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
        "invimaRegister": "IVM3265-85",
        "isDeleted": false,
        "itemId": 279,
        "ivaPurchasePUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPurchasePUCId": 7746,
        "ivaSalePUC": {
          "percentage": 16,
          "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
          "pucId": 7721
        },
        "ivaSalePUCId": 7721,
        "lastCost": 0,
        "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
        "lot": false,
        "measurementUnit": {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        "measurementUnit2": {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        "measurementUnit2Id": 14,
        "measurementUnit3": {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        },
        "measurementUnit3Id": 2,
        "measurementUnitId": 13,
        "minimumStock": 0,
        "name": "NORMAL",
        "namePOS": "NORMAL",
        "orderQuantity": 0,
        "packagePrice": 0,
        "percentageICA": 0,
        "percentagePurchaseIVA": 16,
        "percentageSaleIVA": 16,
        "plu": null,
        "priceList1": 10000,
        "priceList10": 0,
        "priceList2": 15000,
        "priceList3": 0,
        "priceList4": 0,
        "priceList5": 0,
        "priceList6": 0,
        "priceList7": 0,
        "priceList8": 0,
        "priceList9": 0,
        "priceListA1": 5000,
        "priceListA10": 0,
        "priceListA2": 7500,
        "priceListA3": 0,
        "priceListA4": 0,
        "priceListA5": 0,
        "priceListA6": 0,
        "priceListA7": 0,
        "priceListA8": 0,
        "priceListA9": 0,
        "priceListB1": 100,
        "priceListB10": 0,
        "priceListB2": 150,
        "priceListB3": 0,
        "priceListB4": 0,
        "priceListB5": 0,
        "priceListB6": 0,
        "priceListB7": 0,
        "priceListB8": 0,
        "priceListB9": 0,
        "providerId": null,
        "purchaseIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "purchaseIVAId": 2,
        "reference": null,
        "saleIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "saleIVAId": 2,
        "serial": false,
        "size": false,
        "state": "A",
        "subInventoryGroup1Id": null,
        "subInventoryGroup2": null,
        "subInventoryGroup2Id": null,
        "subInventoryGroup3": null,
        "subInventoryGroup3Id": null,
        "subInventoryGroups1": null,
        "typeItem": "A",
        "updateBy": "Administrador del Sistema",
        "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
        "weight": 0,
        "withholdingICA": false,
        "withholdingPurchasePercentage": 3.5,
        "withholdingSalePercentage": 3.5,
        "withholdingTaxPurchasePUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPurchasePUCId": 7620,
        "withholdingTaxSalePUC": {
          "percentage": 3.5,
          "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
          "pucId": 6459
        },
        "withholdingTaxSalePUCId": 6459
      },
      "code": "NORMAL",
      "name": "NORMAL",
      "size": false,
      "color": false,
      "withholdingICA": false,
      "ivaPurchasePUC": {
        "dueDate": false,
        "name": "IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
        "percentage": 16,
        "pucAccount": "240820010",
        "pucId": 7746,
        "quantity": false
      },
      "measurementUnits": [
        {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        }
      ],
      "indexItem": 0,
      "und": {
        "code": "KGM",
        "measurementUnitId": 13,
        "name": "KILOGRAMOS                    "
      }
    }
  ],
  "provider": {
    "branch": "23",
    "isWithholdingCREE": 1,
    "name": "PET DEL VALLE    (900775860) - PET DEL VALLE",
    "providerId": 27,
    "thirdPartyId": 526,
    "thirdParty": {
      "alternateIdentification": "",
      "comments": "",
      "createdBy": "JULIO CESAR CASAÑAS",
      "creationDate": "Fri, 24 Jun 2016 15:40:30 GMT",
      "economicActivity": {
        "code": "2229",
        "createdBy": "CREE",
        "creationDate": "Tue, 28 May 2013 14:39:28 GMT",
        "economicActivityId": 123,
        "name": "Fabricación de artículos de plástico n.c.p.",
        "percentage": 0.3,
        "updateBy": "CREE",
        "updateDate": "Tue, 28 May 2013 14:39:28 GMT"
      },
      "economicActivityId": 123,
      "entryDate": "Fri, 24 Jun 2016 15:22:57 GMT",
      "firstName": "",
      "identificationDV": "8",
      "identificationNumber": "900775860",
      "identificationType": {
        "code": "N",
        "createdBy": "Migracion",
        "creationDate": "Fri, 17 Aug 2012 10:34:52 GMT",
        "identificationTypeDian": "31",
        "identificationTypeId": 3,
        "isDeleted": 0,
        "name": "Nit",
        "updateBy": "Migracion"
      },
      "identificationTypeId": 3,
      "imageId": null,
      "isDeleted": false,
      "isGreatTaxPayer": false,
      "isSelfRetainer": false,
      "isSelfRetainerICA": true,
      "isWithholdingCREE": true,
      "ivaTypeId": 1,
      "lastName": "",
      "maidenName": "",
      "retirementDate": null,
      "rut": true,
      "secondName": "",
      "state": "A",
      "thirdPartyId": 526,
      "thirdType": "J",
      "tradeName": "  PET DEL VALLE",
      "updateBy": "EDILMA SOTO SILVA",
      "updateDate": "Thu, 06 Apr 2017 15:41:49 GMT",
      "webPage": "dbastidas@petdelvalle.com"
    }
  },
  "providerId": 27,
  "disccount": 199800,
  "disccount2": 0,
  "disccount2TaxBase": 0,
  "disccount2Value": 0,
  "ivaValue": 1566432,
  "withholdingTaxValue": 342657,
  "subtotal": 9990000,
  "retentionValue": 0,
  "retentionPercent": 0,
  "retentionPUCId": null,
  "reteICAValue": 0,
  "reteICAPercent": 0,
  "reteIVAValue": 0,
  "reteIVAPercent": 0,
  "overCost": 0,
  "overCostTaxBase": 0,
  "consumptionTaxValue": 0,
  "valueCREE": 0,
  "applyCree": null,
  "reteICABase": 0,
  "reteIVABase": 0,
  "total": 11013975,
  "payment": 11013975,
  "percentageCREE": 0,
  "comments": "text for example",
  "paymentReceipt": {},
  "documentAffecting": [],
  "baseCREE": 0,
  "thirdId": null,
  "branchId": 1
}
        @apiSuccessExample {json} Success
           HTTP/1.1 200 OK
           {
               'id': invoiceGlobalRemissionId,
               'documentNumber': 0000000000
           }
        @apiSuccessExample {json} Success
           HTTP/1.1 204 No Content
       @apiErrorExample {json} Error-Response
           HTTP/1.1 500 Internal Server Error
        """
    data = request.json
    short_word = data['shortWord'] if 'shortWord' in data else None
    if short_word is None:
        raise ValidationError("Invalid params")
    document_header_id, documentNumber = InvoiceGlobalRemission.save_invoice_gremission(data, short_word)
    response = jsonify({'id': document_header_id, 'documentNumber': documentNumber})
    response.status_code = 201
    return response


@api.route('/invoice_gremission/<int:id_invoice_gremission>', methods=['PUT'])
@authorize('invoiceGlobalRemission', 'u')
def put_invoice_gremission(id_invoice_gremission):

    """
        @api {POST} /invoice_gremission/invoiceGlobalRemissionId Update Invoice Global Remission
        @apiGroup Purchase.Invoice Global Remission
        @apiParam invoiceGlobalRemissionId invoice global remission identifier
        @apiParamExample {json} Input
            {
  "sourceDocumentHeaderId": null,
  "documentNumber": "0000000664",
  "annuled": null,
  "controlPrefix": "TXT",
  "paymentTermId": 2,
  "documentDate": "2017-06-27T07:31:44.000Z",
  "controlNumber": "0121000",
  "sourceDocumentOrigin": "RP",
  "termDays": "3",
  "dateTo": "2017-06-30T22:31:18.772Z",
  "costCenter": null,
  "costCenterId": 1,
  "divisionId": 1,
  "sectionId": 1,
  "exchangeRate": 1,
  "dependencyId": null,
  "shortWord": "FP",
  "sourceShortWord": "FRP",
  "currencyId": 4,
  "documentDetails": [
    {
      "accountNumber": null,
      "amount": 0,
      "asset": null,
      "assetId": null,
      "authorizationNumber": null,
      "availableStock": 0,
      "balance": 999,
      "bankAccountId": null,
      "bankCode": null,
      "bankName": null,
      "baseValue": 9790200,
      "businessAgentId": null,
      "cashRegisterId": null,
      "checkNumber": null,
      "colorId": null,
      "comments": null,
      "consumptionTaxBase": 9790200,
      "consumptionTaxPUC": null,
      "consumptionTaxPUCId": null,
      "consumptionTaxPercent": 0,
      "consumptionTaxValue": 0,
      "conversionFactor": 1,
      "cost": 0,
      "costCenterId": 1,
      "createdBy": "Administrador del Sistema",
      "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
      "crossDocumentHeaderId": null,
      "customerId": null,
      "dependencyId": null,
      "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
      "detailDocument": null,
      "detailDocumentTypeId": 124,
      "detailPrefix": null,
      "detailWarehouse": {
        "code": "001",
        "name": "MATERIA PRIMA",
        "typeWarehouse": "G",
        "warehouseId": 2,
        "codeComplete": "Código 001"
      },
      "detailWarehouseId": 2,
      "disccount": 2,
      "divisionId": 1,
      "documentDetailId": 13459,
      "documentHeaderId": 6047,
      "dueDate": null,
      "employeeId": null,
      "finalDate": null,
      "financialEntityId": null,
      "globalTax": 0,
      "icaPercent": 0,
      "importConceptId": null,
      "initialDate": null,
      "interest": 0,
      "isDeleted": 0,
      "item": {
        "addConsumptionToCost": false,
        "addConsumptionToPurchase": false,
        "addIVAtoCost": false,
        "averageCost": 0,
        "barCode": null,
        "brandId": null,
        "code": "NORMAL",
        "color": false,
        "companyCost": 10000,
        "companyId": 1,
        "consumptionPUC": null,
        "consumptionPUCId": null,
        "consumptionPercentage": 0,
        "conversionFactor": 2,
        "conversionFactor2": 1000,
        "costPUC": {
          "percentage": 0,
          "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
          "pucId": 10252
        },
        "costPUCId": 10252,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
        "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
        "disccountToUnitValue": false,
        "discountPercentage": 0,
        "imageId": null,
        "incomingPUC": {
          "percentage": 0,
          "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
          "pucId": 2328
        },
        "incomingPUCId": 2328,
        "inventoryGroup": null,
        "inventoryGroupId": null,
        "inventoryPUC": {
          "percentage": 0,
          "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
          "pucId": 6651
        },
        "inventoryPUCId": 6651,
        "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
        "invimaRegister": "IVM3265-85",
        "isDeleted": false,
        "itemId": 279,
        "ivaPurchasePUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPurchasePUCId": 7746,
        "ivaSalePUC": {
          "percentage": 16,
          "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
          "pucId": 7721
        },
        "ivaSalePUCId": 7721,
        "lastCost": 0,
        "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
        "lot": false,
        "measurementUnit": {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        "measurementUnit2": {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        "measurementUnit2Id": 14,
        "measurementUnit3": {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        },
        "measurementUnit3Id": 2,
        "measurementUnitId": 13,
        "minimumStock": 0,
        "name": "NORMAL",
        "namePOS": "NORMAL",
        "orderQuantity": 0,
        "packagePrice": 0,
        "percentageICA": 0,
        "percentagePurchaseIVA": 16,
        "percentageSaleIVA": 16,
        "plu": null,
        "priceList1": 10000,
        "priceList10": 0,
        "priceList2": 15000,
        "priceList3": 0,
        "priceList4": 0,
        "priceList5": 0,
        "priceList6": 0,
        "priceList7": 0,
        "priceList8": 0,
        "priceList9": 0,
        "priceListA1": 5000,
        "priceListA10": 0,
        "priceListA2": 7500,
        "priceListA3": 0,
        "priceListA4": 0,
        "priceListA5": 0,
        "priceListA6": 0,
        "priceListA7": 0,
        "priceListA8": 0,
        "priceListA9": 0,
        "priceListB1": 100,
        "priceListB10": 0,
        "priceListB2": 150,
        "priceListB3": 0,
        "priceListB4": 0,
        "priceListB5": 0,
        "priceListB6": 0,
        "priceListB7": 0,
        "priceListB8": 0,
        "priceListB9": 0,
        "providerId": null,
        "purchaseIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "purchaseIVAId": 2,
        "reference": null,
        "saleIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "saleIVAId": 2,
        "serial": false,
        "size": false,
        "state": "A",
        "subInventoryGroup1Id": null,
        "subInventoryGroup2": null,
        "subInventoryGroup2Id": null,
        "subInventoryGroup3": null,
        "subInventoryGroup3Id": null,
        "subInventoryGroups1": null,
        "typeItem": "A",
        "updateBy": "Administrador del Sistema",
        "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
        "weight": 0,
        "withholdingICA": false,
        "withholdingPurchasePercentage": 3.5,
        "withholdingSalePercentage": 3.5,
        "withholdingTaxPurchasePUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPurchasePUCId": 7620,
        "withholdingTaxSalePUC": {
          "percentage": 3.5,
          "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
          "pucId": 6459
        },
        "withholdingTaxSalePUCId": 6459
      },
      "itemId": 279,
      "iva": 16,
      "ivaCustomer": null,
      "ivaPUC": {
        "percentage": 16,
        "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
        "pucId": 7746
      },
      "ivaPUCId": 7746,
      "kitAssetId": null,
      "kitItemId": null,
      "kitLaborId": null,
      "listSerials": [],
      "lot": null,
      "mainUnitValue": 0,
      "measurementUnitId": 13,
      "otherThirdId": null,
      "overCost": 0,
      "partnerId": null,
      "payrollConceptId": null,
      "payrollEntityId": null,
      "percentCost": 0,
      "physicalLocation": null,
      "pieceId": null,
      "provider": null,
      "providerId": null,
      "puc": null,
      "pucId": null,
      "quantity": 999,
      "quantityRefund": 1,
      "quoteNumber": null,
      "reteICA": null,
      "reteICAPercent": 0,
      "search": null,
      "sectionId": 1,
      "selected": null,
      "sizeId": null,
      "sourceDocumentDetail": {
        "accountNumber": null,
        "amount": 0,
        "asset": null,
        "assetId": null,
        "authorizationNumber": null,
        "availableStock": 0,
        "balance": 0,
        "bankAccountId": null,
        "bankCode": null,
        "bankName": null,
        "baseValue": 9604000,
        "businessAgentId": null,
        "cashRegisterId": null,
        "checkNumber": null,
        "colorId": null,
        "comments": null,
        "consumptionTaxBase": 9604000,
        "consumptionTaxPUC": null,
        "consumptionTaxPUCId": null,
        "consumptionTaxPercent": 0,
        "consumptionTaxValue": 0,
        "conversionFactor": 1,
        "cost": 0,
        "costCenterId": 1,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Thu, 22 Jun 2017 11:43:19 GMT",
        "crossDocumentHeaderId": null,
        "customerId": null,
        "dependencyId": null,
        "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
        "detailDocument": null,
        "detailDocumentTypeId": 124,
        "detailPrefix": null,
        "detailWarehouse": {
          "code": "001",
          "name": "MATERIA PRIMA",
          "typeWarehouse": "G",
          "warehouseId": 2
        },
        "detailWarehouseId": 2,
        "disccount": 2,
        "divisionId": 1,
        "documentDetailId": 13459,
        "documentHeaderId": 6047,
        "dueDate": null,
        "employeeId": null,
        "finalDate": null,
        "financialEntityId": null,
        "globalTax": 0,
        "icaPercent": 0,
        "importConceptId": null,
        "initialDate": null,
        "interest": 0,
        "isDeleted": 0,
        "item": {
          "addConsumptionToCost": false,
          "addConsumptionToPurchase": false,
          "addIVAtoCost": false,
          "averageCost": 0,
          "barCode": null,
          "brandId": null,
          "code": "NORMAL",
          "color": false,
          "companyCost": 10000,
          "companyId": 1,
          "consumptionPUC": null,
          "consumptionPUCId": null,
          "consumptionPercentage": 0,
          "conversionFactor": 2,
          "conversionFactor2": 1000,
          "costPUC": {
            "percentage": 0,
            "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
            "pucId": 10252
          },
          "costPUCId": 10252,
          "createdBy": "Administrador del Sistema",
          "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
          "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
          "disccountToUnitValue": false,
          "discountPercentage": 0,
          "imageId": null,
          "incomingPUC": {
            "percentage": 0,
            "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
            "pucId": 2328
          },
          "incomingPUCId": 2328,
          "inventoryGroup": null,
          "inventoryGroupId": null,
          "inventoryPUC": {
            "percentage": 0,
            "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
            "pucId": 6651
          },
          "inventoryPUCId": 6651,
          "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
          "invimaRegister": "IVM3265-85",
          "isDeleted": false,
          "itemId": 279,
          "ivaPurchasePUC": {
            "percentage": 16,
            "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
            "pucId": 7746
          },
          "ivaPurchasePUCId": 7746,
          "ivaSalePUC": {
            "percentage": 16,
            "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
            "pucId": 7721
          },
          "ivaSalePUCId": 7721,
          "lastCost": 0,
          "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
          "lot": false,
          "measurementUnit": {
            "code": "KGM",
            "measurementUnitId": 13,
            "name": "KILOGRAMOS                    "
          },
          "measurementUnit2": {
            "code": "LBS",
            "measurementUnitId": 14,
            "name": "LIBRAS                        "
          },
          "measurementUnit2Id": 14,
          "measurementUnit3": {
            "code": "GRM",
            "measurementUnitId": 2,
            "name": "GRAMOS                        "
          },
          "measurementUnit3Id": 2,
          "measurementUnitId": 13,
          "minimumStock": 0,
          "name": "NORMAL",
          "namePOS": "NORMAL",
          "orderQuantity": 0,
          "packagePrice": 0,
          "percentageICA": 0,
          "percentagePurchaseIVA": 16,
          "percentageSaleIVA": 16,
          "plu": null,
          "priceList1": 10000,
          "priceList10": 0,
          "priceList2": 15000,
          "priceList3": 0,
          "priceList4": 0,
          "priceList5": 0,
          "priceList6": 0,
          "priceList7": 0,
          "priceList8": 0,
          "priceList9": 0,
          "priceListA1": 5000,
          "priceListA10": 0,
          "priceListA2": 7500,
          "priceListA3": 0,
          "priceListA4": 0,
          "priceListA5": 0,
          "priceListA6": 0,
          "priceListA7": 0,
          "priceListA8": 0,
          "priceListA9": 0,
          "priceListB1": 100,
          "priceListB10": 0,
          "priceListB2": 150,
          "priceListB3": 0,
          "priceListB4": 0,
          "priceListB5": 0,
          "priceListB6": 0,
          "priceListB7": 0,
          "priceListB8": 0,
          "priceListB9": 0,
          "providerId": null,
          "purchaseIVA": {
            "code": "G",
            "ivaId": 2,
            "name": "GRAVADO"
          },
          "purchaseIVAId": 2,
          "reference": null,
          "saleIVA": {
            "code": "G",
            "ivaId": 2,
            "name": "GRAVADO"
          },
          "saleIVAId": 2,
          "serial": false,
          "size": false,
          "state": "A",
          "subInventoryGroup1Id": null,
          "subInventoryGroup2": null,
          "subInventoryGroup2Id": null,
          "subInventoryGroup3": null,
          "subInventoryGroup3Id": null,
          "subInventoryGroups1": null,
          "typeItem": "A",
          "updateBy": "Administrador del Sistema",
          "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
          "weight": 0,
          "withholdingICA": false,
          "withholdingPurchasePercentage": 3.5,
          "withholdingSalePercentage": 3.5,
          "withholdingTaxPurchasePUC": {
            "percentage": 3.5,
            "pucAccount": "236540005 COMPRAS 3.5%",
            "pucId": 7620
          },
          "withholdingTaxPurchasePUCId": 7620,
          "withholdingTaxSalePUC": {
            "percentage": 3.5,
            "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
            "pucId": 6459
          },
          "withholdingTaxSalePUCId": 6459
        },
        "itemId": 279,
        "iva": 16,
        "ivaCustomer": null,
        "ivaPUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPUCId": 7746,
        "kitAssetId": null,
        "kitItemId": null,
        "kitLaborId": null,
        "listSerials": [],
        "lot": null,
        "mainUnitValue": 0,
        "measurementUnitId": 13,
        "otherThirdId": null,
        "overCost": 0,
        "partnerId": null,
        "payrollConceptId": null,
        "payrollEntityId": null,
        "percentCost": 0,
        "physicalLocation": null,
        "pieceId": null,
        "provider": null,
        "providerId": null,
        "puc": null,
        "pucId": null,
        "quantity": 1000,
        "quantityRefund": 1,
        "quoteNumber": null,
        "reteICA": null,
        "reteICAPercent": 0,
        "search": null,
        "sectionId": 1,
        "selected": null,
        "sizeId": null,
        "sourceDocumentDetail": {
          "accountNumber": null,
          "amount": 0,
          "asset": null,
          "assetId": null,
          "authorizationNumber": null,
          "availableStock": 0,
          "balance": 0,
          "bankAccountId": null,
          "bankCode": null,
          "bankName": null,
          "baseValue": 9604000,
          "businessAgentId": null,
          "cashRegisterId": null,
          "checkNumber": null,
          "colorId": null,
          "comments": null,
          "consumptionTaxBase": 9604000,
          "consumptionTaxPUC": null,
          "consumptionTaxPUCId": null,
          "consumptionTaxPercent": 0,
          "consumptionTaxValue": 0,
          "conversionFactor": 1,
          "cost": 0,
          "costCenterId": 1,
          "createdBy": "Administrador del Sistema",
          "creationDate": "Thu, 22 Jun 2017 11:42:45 GMT",
          "crossDocumentHeaderId": null,
          "customerId": null,
          "dependencyId": null,
          "detailDate": "Thu, 22 Jun 2017 11:33:48 GMT",
          "detailDocument": null,
          "detailDocumentTypeId": 92,
          "detailPrefix": null,
          "detailWarehouse": {
            "code": "001",
            "name": "MATERIA PRIMA",
            "typeWarehouse": "G",
            "warehouseId": 2
          },
          "detailWarehouseId": 2,
          "disccount": 2,
          "divisionId": 1,
          "documentDetailId": 13458,
          "documentHeaderId": 6046,
          "dueDate": null,
          "employeeId": null,
          "finalDate": null,
          "financialEntityId": null,
          "globalTax": 0,
          "icaPercent": 0,
          "importConceptId": null,
          "initialDate": null,
          "interest": 0,
          "isDeleted": 0,
          "item": {
            "addConsumptionToCost": false,
            "addConsumptionToPurchase": false,
            "addIVAtoCost": false,
            "averageCost": 0,
            "barCode": null,
            "brandId": null,
            "code": "NORMAL",
            "color": false,
            "companyCost": 10000,
            "companyId": 1,
            "consumptionPUC": null,
            "consumptionPUCId": null,
            "consumptionPercentage": 0,
            "conversionFactor": 2,
            "conversionFactor2": 1000,
            "costPUC": {
              "percentage": 0,
              "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
              "pucId": 10252
            },
            "costPUCId": 10252,
            "createdBy": "Administrador del Sistema",
            "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
            "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
            "disccountToUnitValue": false,
            "discountPercentage": 0,
            "imageId": null,
            "incomingPUC": {
              "percentage": 0,
              "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
              "pucId": 2328
            },
            "incomingPUCId": 2328,
            "inventoryGroup": null,
            "inventoryGroupId": null,
            "inventoryPUC": {
              "percentage": 0,
              "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
              "pucId": 6651
            },
            "inventoryPUCId": 6651,
            "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
            "invimaRegister": "IVM3265-85",
            "isDeleted": false,
            "itemId": 279,
            "ivaPurchasePUC": {
              "percentage": 16,
              "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
              "pucId": 7746
            },
            "ivaPurchasePUCId": 7746,
            "ivaSalePUC": {
              "percentage": 16,
              "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
              "pucId": 7721
            },
            "ivaSalePUCId": 7721,
            "lastCost": 0,
            "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
            "lot": false,
            "measurementUnit": {
              "code": "KGM",
              "measurementUnitId": 13,
              "name": "KILOGRAMOS                    "
            },
            "measurementUnit2": {
              "code": "LBS",
              "measurementUnitId": 14,
              "name": "LIBRAS                        "
            },
            "measurementUnit2Id": 14,
            "measurementUnit3": {
              "code": "GRM",
              "measurementUnitId": 2,
              "name": "GRAMOS                        "
            },
            "measurementUnit3Id": 2,
            "measurementUnitId": 13,
            "minimumStock": 0,
            "name": "NORMAL",
            "namePOS": "NORMAL",
            "orderQuantity": 0,
            "packagePrice": 0,
            "percentageICA": 0,
            "percentagePurchaseIVA": 16,
            "percentageSaleIVA": 16,
            "plu": null,
            "priceList1": 10000,
            "priceList10": 0,
            "priceList2": 15000,
            "priceList3": 0,
            "priceList4": 0,
            "priceList5": 0,
            "priceList6": 0,
            "priceList7": 0,
            "priceList8": 0,
            "priceList9": 0,
            "priceListA1": 5000,
            "priceListA10": 0,
            "priceListA2": 7500,
            "priceListA3": 0,
            "priceListA4": 0,
            "priceListA5": 0,
            "priceListA6": 0,
            "priceListA7": 0,
            "priceListA8": 0,
            "priceListA9": 0,
            "priceListB1": 100,
            "priceListB10": 0,
            "priceListB2": 150,
            "priceListB3": 0,
            "priceListB4": 0,
            "priceListB5": 0,
            "priceListB6": 0,
            "priceListB7": 0,
            "priceListB8": 0,
            "priceListB9": 0,
            "providerId": null,
            "purchaseIVA": {
              "code": "G",
              "ivaId": 2,
              "name": "GRAVADO"
            },
            "purchaseIVAId": 2,
            "reference": null,
            "saleIVA": {
              "code": "G",
              "ivaId": 2,
              "name": "GRAVADO"
            },
            "saleIVAId": 2,
            "serial": false,
            "size": false,
            "state": "A",
            "subInventoryGroup1Id": null,
            "subInventoryGroup2": null,
            "subInventoryGroup2Id": null,
            "subInventoryGroup3": null,
            "subInventoryGroup3Id": null,
            "subInventoryGroups1": null,
            "typeItem": "A",
            "updateBy": "Administrador del Sistema",
            "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
            "weight": 0,
            "withholdingICA": false,
            "withholdingPurchasePercentage": 3.5,
            "withholdingSalePercentage": 3.5,
            "withholdingTaxPurchasePUC": {
              "percentage": 3.5,
              "pucAccount": "236540005 COMPRAS 3.5%",
              "pucId": 7620
            },
            "withholdingTaxPurchasePUCId": 7620,
            "withholdingTaxSalePUC": {
              "percentage": 3.5,
              "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
              "pucId": 6459
            },
            "withholdingTaxSalePUCId": 6459
          },
          "itemId": 279,
          "iva": 16,
          "ivaCustomer": null,
          "ivaPUC": {
            "percentage": 16,
            "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
            "pucId": 7746
          },
          "ivaPUCId": 7746,
          "kitAssetId": null,
          "kitItemId": null,
          "kitLaborId": null,
          "listSerials": [],
          "lot": null,
          "mainUnitValue": 0,
          "measurementUnitId": 13,
          "otherThirdId": null,
          "overCost": 0,
          "partnerId": null,
          "payrollConceptId": null,
          "payrollEntityId": null,
          "percentCost": 0,
          "physicalLocation": null,
          "pieceId": null,
          "provider": null,
          "providerId": null,
          "puc": null,
          "pucId": null,
          "quantity": 1000,
          "quantityRefund": 0,
          "quoteNumber": null,
          "reteICA": null,
          "reteICAPercent": 0,
          "search": null,
          "sectionId": 1,
          "selected": null,
          "sizeId": null,
          "sourceDocumentDetail": null,
          "sourceDocumentDetailId": null,
          "sourceDocumentNumber": null,
          "sourceDocumentPrefix": null,
          "sourceDocumentTypeId": null,
          "surcharge": 0,
          "third": null,
          "thirdId": null,
          "unitValue": 10000,
          "units": 1000,
          "updateBy": "Administrador del Sistema",
          "updateDate": "Thu, 22 Jun 2017 11:43:19 GMT",
          "value": 10000000,
          "withholdingTax": 3.5,
          "withholdingTaxPUC": {
            "percentage": 3.5,
            "pucAccount": "236540005 COMPRAS 3.5%",
            "pucId": 7620
          },
          "withholdingTaxPUCId": 7620,
          "withholdingValue": 0
        },
        "sourceDocumentDetailId": 13459,
        "sourceDocumentNumber": null,
        "sourceDocumentPrefix": null,
        "sourceDocumentTypeId": null,
        "surcharge": 0,
        "third": null,
        "thirdId": null,
        "unitValue": 10000,
        "units": 1000,
        "updateBy": "Administrador del Sistema",
        "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
        "value": 10000000,
        "withholdingTax": 3.5,
        "withholdingTaxPUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPUCId": 7620,
        "withholdingValue": 0,
        "quantityBefore": 999
      },
      "sourceDocumentDetailId": 13459,
      "sourceDocumentNumber": null,
      "sourceDocumentPrefix": null,
      "sourceDocumentTypeId": null,
      "surcharge": 0,
      "third": null,
      "thirdId": null,
      "unitValue": 10000,
      "units": 999,
      "updateBy": "Administrador del Sistema",
      "updateDate": "Thu, 22 Jun 2017 12:06:53 GMT",
      "value": 9990000,
      "withholdingTax": 3.5,
      "withholdingTaxPUC": {
        "dueDate": false,
        "name": "COMPRAS 3.5%",
        "percentage": 3.5,
        "pucAccount": "236540005",
        "pucId": 7620,
        "quantity": false
      },
      "withholdingTaxPUCId": 7620,
      "withholdingValue": 0,
      "itemToCompare": {
        "addConsumptionToCost": false,
        "addConsumptionToPurchase": false,
        "addIVAtoCost": false,
        "averageCost": 0,
        "barCode": null,
        "brandId": null,
        "code": "NORMAL",
        "color": false,
        "companyCost": 10000,
        "companyId": 1,
        "consumptionPUC": null,
        "consumptionPUCId": null,
        "consumptionPercentage": 0,
        "conversionFactor": 2,
        "conversionFactor2": 1000,
        "costPUC": {
          "percentage": 0,
          "pucAccount": "612014005 ELABORACION DE OTROS PRODUCTOS ALIMENTICIOS",
          "pucId": 10252
        },
        "costPUCId": 10252,
        "createdBy": "Administrador del Sistema",
        "creationDate": "Wed, 24 May 2017 15:48:32 GMT",
        "description": "TEXTO DESCRIPCIÓN ITEM NORMAL",
        "disccountToUnitValue": false,
        "discountPercentage": 0,
        "imageId": null,
        "incomingPUC": {
          "percentage": 0,
          "pucAccount": "412014005 ELABORACION DE PRODUCTOS ALIMENTICIOS",
          "pucId": 2328
        },
        "incomingPUCId": 2328,
        "inventoryGroup": null,
        "inventoryGroupId": null,
        "inventoryPUC": {
          "percentage": 0,
          "pucAccount": "143505005 MERCANCIAS NO FABRICADAS POR LA EMPRESA",
          "pucId": 6651
        },
        "inventoryPUCId": 6651,
        "invimaDueDate": "Wed, 24 May 2017 15:47:04 GMT",
        "invimaRegister": "IVM3265-85",
        "isDeleted": false,
        "itemId": 279,
        "ivaPurchasePUC": {
          "percentage": 16,
          "pucAccount": "240820010 IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
          "pucId": 7746
        },
        "ivaPurchasePUCId": 7746,
        "ivaSalePUC": {
          "percentage": 16,
          "pucAccount": "240810010 IMPUESTO A LAS VENTAS - COBRADO POR VENTAS AL 16%",
          "pucId": 7721
        },
        "ivaSalePUCId": 7721,
        "lastCost": 0,
        "lastPurchaseDate": "Wed, 24 May 2017 15:47:04 GMT",
        "lot": false,
        "measurementUnit": {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        "measurementUnit2": {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        "measurementUnit2Id": 14,
        "measurementUnit3": {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        },
        "measurementUnit3Id": 2,
        "measurementUnitId": 13,
        "minimumStock": 0,
        "name": "NORMAL",
        "namePOS": "NORMAL",
        "orderQuantity": 0,
        "packagePrice": 0,
        "percentageICA": 0,
        "percentagePurchaseIVA": 16,
        "percentageSaleIVA": 16,
        "plu": null,
        "priceList1": 10000,
        "priceList10": 0,
        "priceList2": 15000,
        "priceList3": 0,
        "priceList4": 0,
        "priceList5": 0,
        "priceList6": 0,
        "priceList7": 0,
        "priceList8": 0,
        "priceList9": 0,
        "priceListA1": 5000,
        "priceListA10": 0,
        "priceListA2": 7500,
        "priceListA3": 0,
        "priceListA4": 0,
        "priceListA5": 0,
        "priceListA6": 0,
        "priceListA7": 0,
        "priceListA8": 0,
        "priceListA9": 0,
        "priceListB1": 100,
        "priceListB10": 0,
        "priceListB2": 150,
        "priceListB3": 0,
        "priceListB4": 0,
        "priceListB5": 0,
        "priceListB6": 0,
        "priceListB7": 0,
        "priceListB8": 0,
        "priceListB9": 0,
        "providerId": null,
        "purchaseIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "purchaseIVAId": 2,
        "reference": null,
        "saleIVA": {
          "code": "G",
          "ivaId": 2,
          "name": "GRAVADO"
        },
        "saleIVAId": 2,
        "serial": false,
        "size": false,
        "state": "A",
        "subInventoryGroup1Id": null,
        "subInventoryGroup2": null,
        "subInventoryGroup2Id": null,
        "subInventoryGroup3": null,
        "subInventoryGroup3Id": null,
        "subInventoryGroups1": null,
        "typeItem": "A",
        "updateBy": "Administrador del Sistema",
        "updateDate": "Wed, 14 Jun 2017 17:02:16 GMT",
        "weight": 0,
        "withholdingICA": false,
        "withholdingPurchasePercentage": 3.5,
        "withholdingSalePercentage": 3.5,
        "withholdingTaxPurchasePUC": {
          "percentage": 3.5,
          "pucAccount": "236540005 COMPRAS 3.5%",
          "pucId": 7620
        },
        "withholdingTaxPurchasePUCId": 7620,
        "withholdingTaxSalePUC": {
          "percentage": 3.5,
          "pucAccount": "135515010 RETENCION EN LA FUENTE - COBRADA AL 3.5%",
          "pucId": 6459
        },
        "withholdingTaxSalePUCId": 6459
      },
      "code": "NORMAL",
      "name": "NORMAL",
      "size": false,
      "color": false,
      "withholdingICA": false,
      "ivaPurchasePUC": {
        "dueDate": false,
        "name": "IMPUESTO A LAS VENTAS PAGADO POR COMPRAS GRAVADAS 16% BIENES",
        "percentage": 16,
        "pucAccount": "240820010",
        "pucId": 7746,
        "quantity": false
      },
      "measurementUnits": [
        {
          "code": "KGM",
          "measurementUnitId": 13,
          "name": "KILOGRAMOS                    "
        },
        {
          "code": "LBS",
          "measurementUnitId": 14,
          "name": "LIBRAS                        "
        },
        {
          "code": "GRM",
          "measurementUnitId": 2,
          "name": "GRAMOS                        "
        }
      ],
      "indexItem": 0,
      "und": {
        "code": "KGM",
        "measurementUnitId": 13,
        "name": "KILOGRAMOS                    "
      }
    }
  ],
  "provider": {
    "branch": "23",
    "isWithholdingCREE": 1,
    "name": "PET DEL VALLE    (900775860) - PET DEL VALLE",
    "providerId": 27,
    "thirdPartyId": 526,
    "thirdParty": {
      "alternateIdentification": "",
      "comments": "",
      "createdBy": "JULIO CESAR CASAÑAS",
      "creationDate": "Fri, 24 Jun 2016 15:40:30 GMT",
      "economicActivity": {
        "code": "2229",
        "createdBy": "CREE",
        "creationDate": "Tue, 28 May 2013 14:39:28 GMT",
        "economicActivityId": 123,
        "name": "Fabricación de artículos de plástico n.c.p.",
        "percentage": 0.3,
        "updateBy": "CREE",
        "updateDate": "Tue, 28 May 2013 14:39:28 GMT"
      },
      "economicActivityId": 123,
      "entryDate": "Fri, 24 Jun 2016 15:22:57 GMT",
      "firstName": "",
      "identificationDV": "8",
      "identificationNumber": "900775860",
      "identificationType": {
        "code": "N",
        "createdBy": "Migracion",
        "creationDate": "Fri, 17 Aug 2012 10:34:52 GMT",
        "identificationTypeDian": "31",
        "identificationTypeId": 3,
        "isDeleted": 0,
        "name": "Nit",
        "updateBy": "Migracion"
      },
      "identificationTypeId": 3,
      "imageId": null,
      "isDeleted": false,
      "isGreatTaxPayer": false,
      "isSelfRetainer": false,
      "isSelfRetainerICA": true,
      "isWithholdingCREE": true,
      "ivaTypeId": 1,
      "lastName": "",
      "maidenName": "",
      "retirementDate": null,
      "rut": true,
      "secondName": "",
      "state": "A",
      "thirdPartyId": 526,
      "thirdType": "J",
      "tradeName": "  PET DEL VALLE",
      "updateBy": "EDILMA SOTO SILVA",
      "updateDate": "Thu, 06 Apr 2017 15:41:49 GMT",
      "webPage": "dbastidas@petdelvalle.com"
    }
  },
  "providerId": 27,
  "disccount": 199800,
  "disccount2": 0,
  "disccount2TaxBase": 0,
  "disccount2Value": 0,
  "ivaValue": 1566432,
  "withholdingTaxValue": 342657,
  "subtotal": 9990000,
  "retentionValue": 0,
  "retentionPercent": 0,
  "retentionPUCId": null,
  "reteICAValue": 0,
  "reteICAPercent": 0,
  "reteIVAValue": 0,
  "reteIVAPercent": 0,
  "overCost": 0,
  "overCostTaxBase": 0,
  "consumptionTaxValue": 0,
  "valueCREE": 0,
  "applyCree": null,
  "reteICABase": 0,
  "reteIVABase": 0,
  "total": 11013975,
  "payment": 11013975,
  "percentageCREE": 0,
  "comments": "text for example",
  "paymentReceipt": {},
  "documentAffecting": [],
  "baseCREE": 0,
  "thirdId": null,
  "branchId": 1
}
        @apiSuccessExample {json} Success
           HTTP/1.1 200 OK
           {
               'ok': 'ok'
           }
        @apiSuccessExample {json} Success
           HTTP/1.1 204 No Content
       @apiErrorExample {json} Error-Response
           HTTP/1.1 500 Internal Server Error
        """
    data = request.json
    response = InvoiceGlobalRemission.update_invoice_gremission(id_invoice_gremission, data)
    return response


@api.route('/invoice_gremission/<int:id_invoice_gremission>', methods=['DELETE'])
@authorize('invoiceGlobalRemission', 'd')
def delete_invoice_gremission(id_invoice_gremission):

    """
        @api {delete} /invoice_gremission/invoiceGlobalRemissionId Remove Invoice Global Remission
        @apiName Delete
        @apiGroup Purchase.Invoice Global Remission
        @apiParam {Number} invoiceGlobalRemissionId invoice global remission identifier
        @apiDescription Delete a invoice global remission document according to id
        @apiDeprecated use now (#invoiceGlobalRemission:Update) change state of document.
        @apiSuccessExample {json} Success
           HTTP/1.1 204 No Content
        @apiErrorExample {json} Error-Response
            HTTP/1.1 500 Internal Server Error
        """
    response = InvoiceGlobalRemission.delete_invoice_gremission(id_invoice_gremission)
    return response


@api.route('/invoice_gremission/<int:id_invoice_gremission>/preview', methods=['GET'])
@authorize('invoiceGlobalRemission', 'r')
def global_remission_preview(id_invoice_gremission):
    """
        @api {get}  /invoice_gremission/invoiceGlobalRemissionId/preview Preview Invoice Global Remission
        @apiName Preview
        @apiGroup Purchase.Invoice Global Remission
        @apiDescription Returns preview of invoice global remission
        @apiParam {Number} invoiceGlobalRemissionId invoice global remission identifier

        @apiSuccessExample {json} Success
          HTTP/1.1 200 OK
            {
              "data": [{},...]
            }
        @apiErrorExample {json} DocumentNotFoundError The search empty result
        HTTP/1.1 200 OK
            {
                "data": []
            }
        @apiErrorExample {json} Find error
            HTTP/1.1 500 Internal Server Error
        """
    ra = request.args.get
    format_type = ra('format')
    document_type = ra('document_type')
    response = InvoiceGlobalRemission.get_invoice_g_remission_preview(id_invoice_gremission, format_type, document_type)
    if response is None:
        abort(404)
    return jsonify(data=response)